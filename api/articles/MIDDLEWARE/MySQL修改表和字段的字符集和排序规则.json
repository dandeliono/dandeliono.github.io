{"title":"MySQL修改表和字段的字符集和排序规则","uid":"774f79caf493f8fbe7cfcf9850f2624f","slug":"MIDDLEWARE/MySQL修改表和字段的字符集和排序规则","date":"2022-11-11T11:27:58.000Z","updated":"2025-12-05T01:47:31.297Z","comments":true,"path":"api/articles/MIDDLEWARE/MySQL修改表和字段的字符集和排序规则.json","keywords":"XuGuangSheng","cover":"/covers/mysql.jpg","content":"<h1 id=\"MySQL修改表和字段的字符集和排序规则\"><a href=\"#MySQL修改表和字段的字符集和排序规则\" class=\"headerlink\" title=\"MySQL修改表和字段的字符集和排序规则\"></a>MySQL修改表和字段的字符集和排序规则</h1><p>  关于MySQL<strong>查询时不区分字母大小写、插入时不支持特殊字符</strong>的问题，只有修改表的字符集和排序规则才能根治，而且事半功倍。utf8mb4支持的最低mysql版本为5.5.3+，若不是，请升级到较新版本。下面以把字符集和排序规则分别修改为utf8mb4 和 utf8mb4_bin为例，进行展开描述，当然，童鞋们也可以换成其它字符集和排序规则，请量体裁衣，自行决定。</p>\n<h4 id=\"查看表的字符集和排序规则\"><a href=\"#查看表的字符集和排序规则\" class=\"headerlink\" title=\"查看表的字符集和排序规则\"></a>查看表的字符集和排序规则</h4><p>  查看schema中某张表的排序规则：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">show</span> <span class=\"keyword\">table</span> status <span class=\"keyword\">from</span> schema_name <span class=\"keyword\">like</span> <span class=\"string\">&#x27;%table_name%&#x27;</span>;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>  查看schema中所有表的排序规则：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> table_name, table_type, engine, version, table_collation</span><br><span class=\"line\"> <span class=\"keyword\">FROM</span> information_schema.tables <span class=\"keyword\">WHERE</span> table_schema <span class=\"operator\">=</span> <span class=\"string\">&#x27;schema_name&#x27;</span> <span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> table_name <span class=\"keyword\">DESC</span>;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>  上述SQL脚本支持表名模糊匹配。查看某张表中字段的字符集和排序规则：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">show</span> <span class=\"keyword\">full</span> COLUMNS <span class=\"keyword\">FROM</span> table_name;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"修改表的字符集和排序规则\"><a href=\"#修改表的字符集和排序规则\" class=\"headerlink\" title=\"修改表的字符集和排序规则\"></a>修改表的字符集和排序规则</h4><p>  修改数据库的字符集编码命令如下：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ALTER</span> DATABASE database_name <span class=\"type\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8mb4 <span class=\"keyword\">COLLATE</span> utf8mb4_bin;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>  修改表的字符集编码：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">alter table table_name character set utf8mb4;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>  它只修改表新增列的默认定义，已有列的字符集不受影响，请格外注意。若要同时修改表字符集和已有列字符集，并将已有数据进行字符集编码转换，请使用如下<strong>CONVERT TO</strong>脚本：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> table_name <span class=\"keyword\">CONVERT</span> <span class=\"keyword\">TO</span> <span class=\"type\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8mb4 <span class=\"keyword\">COLLATE</span> utf8mb4_bin;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"修改字段的字符集和排序规则\"><a href=\"#修改字段的字符集和排序规则\" class=\"headerlink\" title=\"修改字段的字符集和排序规则\"></a>修改字段的字符集和排序规则</h4><p>  修改某个字段的字符集编码：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> table_name CHANGE column_name column_name <span class=\"type\">VARCHAR</span>(<span class=\"number\">64</span>) <span class=\"type\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8mb4 <span class=\"keyword\">COLLATE</span> utf8mb4_bin <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span>;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>  注：执行命令过程中字段名无需加引号。修改完数据库字符集，立即生效。</p>\n","text":"MySQL修改表和字段的字符集和排序规则 关于MySQL查询时不区分字母大小写、插入时不支持特殊字符的问题，只有修改表的字符集和排序规则才能根治，而且事半功倍。...","permalink":"/post/MIDDLEWARE/MySQL修改表和字段的字符集和排序规则","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[{"name":"utf","slug":"utf","count":1,"path":"api/categories/utf.json"},{"name":"MIDDLEWARE","slug":"utf/MIDDLEWARE","count":1,"path":"api/categories/utf/MIDDLEWARE.json"}],"tags":[{"name":"MySQL","slug":"MySQL","count":2,"path":"api/tags/MySQL.json"},{"name":"查看","slug":"查看","count":1,"path":"api/tags/查看.json"},{"name":"schema","slug":"schema","count":1,"path":"api/tags/schema.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#MySQL%E4%BF%AE%E6%94%B9%E8%A1%A8%E5%92%8C%E5%AD%97%E6%AE%B5%E7%9A%84%E5%AD%97%E7%AC%A6%E9%9B%86%E5%92%8C%E6%8E%92%E5%BA%8F%E8%A7%84%E5%88%99\"><span class=\"toc-text\">MySQL修改表和字段的字符集和排序规则</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E8%A1%A8%E7%9A%84%E5%AD%97%E7%AC%A6%E9%9B%86%E5%92%8C%E6%8E%92%E5%BA%8F%E8%A7%84%E5%88%99\"><span class=\"toc-text\">查看表的字符集和排序规则</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9%E8%A1%A8%E7%9A%84%E5%AD%97%E7%AC%A6%E9%9B%86%E5%92%8C%E6%8E%92%E5%BA%8F%E8%A7%84%E5%88%99\"><span class=\"toc-text\">修改表的字符集和排序规则</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9%E5%AD%97%E6%AE%B5%E7%9A%84%E5%AD%97%E7%AC%A6%E9%9B%86%E5%92%8C%E6%8E%92%E5%BA%8F%E8%A7%84%E5%88%99\"><span class=\"toc-text\">修改字段的字符集和排序规则</span></a></li></ol></li></ol></li></ol></li></ol>","author":{"name":"dandeliono","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/29496357","link":"/","description":"永远相信美好的事情即将发生","socials":{"github":"https://github.com/dandeliono","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"Spring-SpringBoot-MyBatis","uid":"bffbc184e1f43c5ae0809f3a56168a65","slug":"JAVA/Spring-SpringBoot-MyBatis","date":"2022-11-23T10:41:09.000Z","updated":"2025-12-05T01:46:35.211Z","comments":true,"path":"api/articles/JAVA/Spring-SpringBoot-MyBatis.json","keywords":"XuGuangSheng","cover":"/covers/spring-springboot-mybatis.jpg","text":"Spring-SpringBoot-MyBatis本文将全局介绍 MyBatis 的整体架构。 参考：《MyBatis技术内幕》 MyBatis整体架构 基础支...","permalink":"/post/JAVA/Spring-SpringBoot-MyBatis","photos":[],"count_time":{"symbolsCount":"27k","symbolsTime":"24 mins."},"categories":[{"name":"Spring","slug":"Spring","count":4,"path":"api/categories/Spring.json"},{"name":"JAVA","slug":"Spring/JAVA","count":4,"path":"api/categories/Spring/JAVA.json"}],"tags":[{"name":"MyBatis","slug":"MyBatis","count":1,"path":"api/tags/MyBatis.json"},{"name":"SpringBoot","slug":"SpringBoot","count":1,"path":"api/tags/SpringBoot.json"},{"name":"spring","slug":"spring","count":4,"path":"api/tags/spring.json"}],"author":{"name":"dandeliono","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/29496357","link":"/","description":"永远相信美好的事情即将发生","socials":{"github":"https://github.com/dandeliono","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Mybatis自定义TypeHandler实现数据库Json数组转List T 对象","uid":"2e30e1dd404d8ce00027cb5e2a0055b3","slug":"JAVA/Mybatis自定义TypeHandler实现数据库Json数组转List T 对象","date":"2022-10-20T18:28:11.000Z","updated":"2025-12-05T01:46:23.396Z","comments":true,"path":"api/articles/JAVA/Mybatis自定义TypeHandler实现数据库Json数组转List T 对象.json","keywords":"XuGuangSheng","cover":"/covers/mybatistypehandlerjsonlist-t.jpg","text":"Mybatis自定义TypeHandler实现数据库Json数组转List对象实现功能在开发过程中经常会遇到将整个JSON数据当作一个字段存到数据库中的情况，但...","permalink":"/post/JAVA/Mybatis自定义TypeHandler实现数据库Json数组转List T 对象","photos":[],"count_time":{"symbolsCount":"2.9k","symbolsTime":"3 mins."},"categories":[{"name":"List","slug":"List","count":1,"path":"api/categories/List.json"},{"name":"JAVA","slug":"List/JAVA","count":1,"path":"api/categories/List/JAVA.json"}],"tags":[{"name":"https","slug":"https","count":44,"path":"api/tags/https.json"},{"name":"JSON","slug":"JSON","count":1,"path":"api/tags/JSON.json"},{"name":"TypeHandler","slug":"TypeHandler","count":1,"path":"api/tags/TypeHandler.json"}],"author":{"name":"dandeliono","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/29496357","link":"/","description":"永远相信美好的事情即将发生","socials":{"github":"https://github.com/dandeliono","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}