{"title":"ç”¨çº¯CPUç¯å¢ƒæ­å»ºå¤§æ¨¡å‹ç¯å¢ƒ","uid":"889ca5b7a321750970fca61562d5cfb3","slug":"WORK/ç”¨çº¯CPUç¯å¢ƒæ­å»ºå¤§æ¨¡å‹ç¯å¢ƒ","date":"2024-03-05T09:40:56.000Z","updated":"2025-12-05T01:48:08.588Z","comments":true,"path":"api/articles/WORK/ç”¨çº¯CPUç¯å¢ƒæ­å»ºå¤§æ¨¡å‹ç¯å¢ƒ.json","keywords":"XuGuangSheng","cover":"/covers/cpu.jpg","content":"<h1 id=\"ç”¨çº¯CPUç¯å¢ƒæ­å»ºå¤§æ¨¡å‹ç¯å¢ƒ\"><a href=\"#ç”¨çº¯CPUç¯å¢ƒæ­å»ºå¤§æ¨¡å‹ç¯å¢ƒ\" class=\"headerlink\" title=\"ç”¨çº¯CPUç¯å¢ƒæ­å»ºå¤§æ¨¡å‹ç¯å¢ƒ\"></a>ç”¨çº¯CPUç¯å¢ƒæ­å»ºå¤§æ¨¡å‹ç¯å¢ƒ</h1><p>é…å¥—è§†é¢‘ï¼š</p>\n<p>å¤§æ¨¡å‹ç°åœ¨æ­£å¤„äºé«˜é€Ÿå‘å±•æ—¶æœŸï¼Œå„å‚å•†éƒ½æ¨å‡ºäº†è‡ªå·±çš„å¤§æ¨¡å‹ï¼Œå„ç§å¼€æºæ¨¡å‹ä¹Ÿå±‚å‡ºä¸ç©·ã€‚å°½ç®¡å„å‚å•†éƒ½æœ‰åº”ç”¨æ¥å…¥ APIï¼Œä½†åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­è¿˜æ˜¯å­˜åœ¨ä¸€äº›é—®é¢˜ï¼š</p>\n<ol>\n<li><p>æ•°æ®å®‰å…¨ï¼šæ¥å…¥å…¶ä»–å‚å•†çš„å¤§æ¨¡å‹ï¼Œå°±éœ€è¦å°†è‡ªå·±çš„æ•°æ®äº¤ç»™å¯¹æ–¹å¤„ç†ï¼Œè¿™äº›æ•°æ®å¯èƒ½å­˜åœ¨ä¸€äº›æ•æ„Ÿä¿¡æ¯ï¼Œå­˜åœ¨å®‰å…¨é£é™©ã€‚</p>\n</li>\n<li><p>è´¹ç”¨ï¼šå¤§æ¨¡å‹åº”ç”¨é€šå¸¸æ˜¯æŒ‰ç…§ Token æ•°é‡æ”¶è´¹çš„ï¼Œå¯¹äºæ™®é€šå¼€å‘è€…æ¥è¯´ï¼Œé•¿æ—¶é—´ä½¿ç”¨ä¹Ÿæ˜¯ä¸€ä¸ªä¸å°çš„å¼€é”€ã€‚</p>\n</li>\n</ol>\n<p>æ—¢ç„¶å¼€æºå¤§æ¨¡å‹é‚£ä¹ˆå¤šï¼Œæ˜¯å¦å¯ä»¥åœ¨æœ¬åœ°æ­å»ºä¸€ä¸ªå¤§æ¨¡å‹çš„åº”ç”¨å‘¢ï¼Ÿç›®å‰å¼€æºçš„å¾ˆå¤šå¤§æ¨¡å‹ï¼Œå¦‚ ChatGLMã€Baichuan ç­‰éƒ¨ç½²éƒ½éœ€è¦ GPU æ”¯æŒï¼Œè¿™å¯¹ä¸ªäººå¼€å‘è€…æ¥è¯´æ˜¯ä¸€ä¸ªå°é—¨æ§›ï¼Œå¯¹äºä¸€ä¸ªä¸ç©æ¸¸æˆã€ä¸åšå›¾åƒå¤„ç†å¼€å‘çš„å¼€å‘è€…æ¥è¯´ï¼Œå¯èƒ½è¿˜çœŸæ²¡æœ‰ä¸€å—åƒæ ·ç‚¹çš„ GPUï¼Œä½†æ˜¯å¯èƒ½æœ‰ä¸€é¢—å¼ºåŠ²çš„ CPUï¼Œé‚£ä¹ˆï¼Œæ˜¯å¦å¯ä»¥åœ¨ CPU ä¸Šè·‘å¤§æ¨¡å‹å‘¢ï¼Ÿå½“ç„¶å¯ä»¥ï¼ä»Šå¤©å°±ä»‹ç»ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œå°†å¤§æ¨¡å‹è·‘åœ¨ CPU ä¸Šã€‚</p>\n<p>ChatGPM.cpp æ˜¯ä¸€ä¸ªçº¯ C++å®ç°çš„å¤§æ¨¡å‹è¿è¡Œæ—¶ï¼Œå¯ä»¥å°†ç»è¿‡è½¬æ¢çš„å¼€æºå¤§æ¨¡å‹æ”¾åœ¨ CPU ä¸Šè¿è¡Œã€‚è¿™é‡Œæ˜¯å¼€æºåœ°å€ï¼š<a href=\"https://xie.infoq.cn/link?target=https://github.com/li-plus/chatglm.cpp\">https://github.com/li-plus/chatglm.cpp</a>  </p>\n<p>ChatGLM.cpp å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>\n<ul>\n<li><p>åŸºäº ggmlï¼Œçº¯ C++å®ç°</p>\n</li>\n<li><p>å…·æœ‰ int4&#x2F;int8 é‡åŒ–ã€ä¼˜åŒ– KV ç¼“å­˜å’Œå¹¶è¡Œè®¡ç®—çš„åŠ é€Ÿå†…å­˜é«˜æ•ˆ CPU æ¨ç†</p>\n</li>\n<li><p>å…·æœ‰æ‰“å­—æœºæ•ˆæœçš„æµå¼ç”Ÿæˆ</p>\n</li>\n<li><p>Python ç»‘å®šï¼ŒWeb æ¼”ç¤ºï¼ŒAPI æœåŠ¡å™¨å’Œæ›´å¤šçš„å¯èƒ½æ€§</p>\n</li>\n</ul>\n<p>éƒ¨ç½²æµç¨‹åŸºæœ¬ä¸Šå°±æ˜¯æŒ‰ç…§é¡¹ç›® readme è¿›è¡Œï¼Œä½†æ˜¯å…¶ä¸­æœ‰ä¸€äº›éšè—çš„å‘éœ€è¦æ³¨æ„ï¼Œæ¥ä¸‹æ¥å°±ä¸€æ­¥æ­¥è¿›è¡Œï¼Œä¸­é—´çš„æ³¨æ„ç‚¹ä¼šç€é‡æè¿°ã€‚</p>\n<h2 id=\"çº¯æºç ç‰©ç†æœºéƒ¨ç½²\"><a href=\"#çº¯æºç ç‰©ç†æœºéƒ¨ç½²\" class=\"headerlink\" title=\"çº¯æºç ç‰©ç†æœºéƒ¨ç½²\"></a>çº¯æºç ç‰©ç†æœºéƒ¨ç½²</h2><p>çº¯æºç ç‰©ç†æœºéƒ¨ç½²æ˜¯æŒ‡ä¸ä½¿ç”¨ docker è™šæ‹ŸåŒ–çš„æƒ…å†µä¸‹éƒ¨ç½²ã€‚</p>\n<h3 id=\"æºç è·å–\"><a href=\"#æºç è·å–\" class=\"headerlink\" title=\"æºç è·å–\"></a>æºç è·å–</h3><p>ä» github ä¸‹è½½æºç ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> --recursive https://github.com/li-plus/chatglm.cpp.git &amp;&amp; <span class=\"built_in\">cd</span> chatglm.cpp</span><br></pre></td></tr></table></figure>\n\n<p>è¿™é‡Œçš„<code>--recursive</code>å‚æ•°æ˜¯ä¸ºäº†å°†å­æ¨¡å—ä¹Ÿæ‹‰å–ä¸‹æ¥ã€‚</p>\n<p>å¦‚æœæ‹‰å–çš„æ—¶å€™æ²¡æœ‰å¸¦æ­¤å‚æ•°ï¼Œä¹Ÿå¯ä»¥åœ¨æ‹‰å–ä¹‹åä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ‹‰å–å­æ¨¡å—ã€‚</p>\n<figure class=\"highlight brainfuck\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">git submodule update</span> <span class=\"literal\">--</span><span class=\"comment\">init</span> <span class=\"literal\">--</span><span class=\"comment\">recursive</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä¾èµ–å®‰è£…\"><a href=\"#ä¾èµ–å®‰è£…\" class=\"headerlink\" title=\"ä¾èµ–å®‰è£…\"></a>ä¾èµ–å®‰è£…</h3><p>ChatGLM.cpp ä¾èµ– python è½¬æ¢æ¨¡å‹ï¼Œå› æ­¤éœ€è¦å®‰è£… pythonã€‚</p>\n<p>æ­¤å¤„æœ‰ä¸€ä¸ªå‘ï¼Œå¯¹ python ç‰ˆæœ¬æ˜¯æœ‰è¦æ±‚çš„ï¼Œå› ä¸ºè½¬æ¢è¿‡ç¨‹ä¸­è¿˜éœ€è¦ç”¨åˆ° torch åŒ…ï¼Œè€ŒæŸäº›ç‰ˆæœ¬çš„ python æ²¡æœ‰å¯¹åº”çš„ torch åŒ…ã€‚</p>\n<p>è¿™é‡Œæ¨èä½¿ç”¨ Anaconda æ¥å®‰è£…ç¯å¢ƒã€‚</p>\n<p>Anaconda å°±æ˜¯å¯ä»¥ä¾¿æ·è·å–åŒ…ä¸”å¯¹åŒ…èƒ½å¤Ÿè¿›è¡Œç®¡ç†ï¼ŒåŒæ—¶å¯¹ç¯å¢ƒå¯ä»¥ç»Ÿä¸€ç®¡ç†çš„å‘è¡Œç‰ˆæœ¬ã€‚Anaconda åŒ…å«äº† condaã€Python åœ¨å†…çš„è¶…è¿‡ 180 ä¸ªç§‘å­¦åŒ…åŠå…¶ä¾èµ–é¡¹ã€‚</p>\n<p>è¿™é‡Œæ˜¯å®˜ç½‘ï¼š<a href=\"https://xie.infoq.cn/link?target=https://www.anaconda.com/\">https://www.anaconda.com/</a>  </p>\n<p>å®‰è£…é…ç½®å¥½ conda ä¹‹åï¼Œåˆ›å»ºå¹¶åˆ‡æ¢åˆ°è™šæ‹Ÿç¯å¢ƒï¼š</p>\n<figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">conda create -n chatglm-cpp</span><br><span class=\"line\">conda <span class=\"built_in\">activate</span> chatglm-cpp</span><br></pre></td></tr></table></figure>\n\n<p>æŸ¥æ‰¾ pytorch çº¯ cpu ç‰ˆæœ¬æ”¯æŒçš„ python ç‰ˆæœ¬ï¼š</p>\n<figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">conda <span class=\"built_in\">search</span> pytorch | <span class=\"keyword\">grep</span> cpu</span><br></pre></td></tr></table></figure>\n\n<p>ä»¥ä¸‹æ˜¯è¾“å‡ºï¼š</p>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">pytorch</span>                        <span class=\"number\">1</span>.<span class=\"number\">2</span>.<span class=\"number\">0</span> cpu_py27h00be3c6_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                        <span class=\"number\">1</span>.<span class=\"number\">2</span>.<span class=\"number\">0</span> cpu_py36h00be3c6_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                        <span class=\"number\">1</span>.<span class=\"number\">2</span>.<span class=\"number\">0</span> cpu_py37h00be3c6_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                        <span class=\"number\">1</span>.<span class=\"number\">3</span>.<span class=\"number\">1</span> cpu_py27h62f834f_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                        <span class=\"number\">1</span>.<span class=\"number\">3</span>.<span class=\"number\">1</span> cpu_py36h62f834f_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                        <span class=\"number\">1</span>.<span class=\"number\">3</span>.<span class=\"number\">1</span> cpu_py37h62f834f_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                        <span class=\"number\">1</span>.<span class=\"number\">4</span>.<span class=\"number\">0</span> cpu_py36h7e40bad_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                        <span class=\"number\">1</span>.<span class=\"number\">4</span>.<span class=\"number\">0</span> cpu_py37h7e40bad_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                        <span class=\"number\">1</span>.<span class=\"number\">4</span>.<span class=\"number\">0</span> cpu_py38h7e40bad_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                        <span class=\"number\">1</span>.<span class=\"number\">5</span>.<span class=\"number\">0</span> cpu_py37hd91cbb3_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                        <span class=\"number\">1</span>.<span class=\"number\">7</span>.<span class=\"number\">1</span> cpu_py37h6a09485_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                        <span class=\"number\">1</span>.<span class=\"number\">7</span>.<span class=\"number\">1</span> cpu_py38h6a09485_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                        <span class=\"number\">1</span>.<span class=\"number\">7</span>.<span class=\"number\">1</span> cpu_py39h6a09485_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                        <span class=\"number\">1</span>.<span class=\"number\">8</span>.<span class=\"number\">1</span> cpu_py37h60491be_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                        <span class=\"number\">1</span>.<span class=\"number\">8</span>.<span class=\"number\">1</span> cpu_py38h60491be_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                        <span class=\"number\">1</span>.<span class=\"number\">8</span>.<span class=\"number\">1</span> cpu_py39h60491be_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">10</span>.<span class=\"number\">2</span> cpu_py310h6894f24_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">10</span>.<span class=\"number\">2</span> cpu_py37hfa7516b_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">10</span>.<span class=\"number\">2</span> cpu_py38hfa7516b_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">10</span>.<span class=\"number\">2</span> cpu_py39hfa7516b_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">12</span>.<span class=\"number\">1</span> cpu_py310h9dbd814_1  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">12</span>.<span class=\"number\">1</span> cpu_py310hb1f1ab4_1  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">12</span>.<span class=\"number\">1</span> cpu_py310he8d8e81_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">12</span>.<span class=\"number\">1</span> cpu_py37h9dbd814_1  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">12</span>.<span class=\"number\">1</span> cpu_py37hb1f1ab4_1  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">12</span>.<span class=\"number\">1</span> cpu_py37he8d8e81_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">12</span>.<span class=\"number\">1</span> cpu_py38h9dbd814_1  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">12</span>.<span class=\"number\">1</span> cpu_py38hb1f1ab4_1  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">12</span>.<span class=\"number\">1</span> cpu_py38he8d8e81_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">12</span>.<span class=\"number\">1</span> cpu_py39h9dbd814_1  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">12</span>.<span class=\"number\">1</span> cpu_py39hb1f1ab4_1  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">12</span>.<span class=\"number\">1</span> cpu_py39he8d8e81_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">13</span>.<span class=\"number\">1</span> cpu_py310h92724a6_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">13</span>.<span class=\"number\">1</span> cpu_py310h9dc8d95_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">13</span>.<span class=\"number\">1</span> cpu_py310ha02dd7b_1  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">13</span>.<span class=\"number\">1</span> cpu_py311h92724a6_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">13</span>.<span class=\"number\">1</span> cpu_py311h9dc8d95_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">13</span>.<span class=\"number\">1</span> cpu_py311ha02dd7b_1  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">13</span>.<span class=\"number\">1</span> cpu_py38h92724a6_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">13</span>.<span class=\"number\">1</span> cpu_py38h9dc8d95_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">13</span>.<span class=\"number\">1</span> cpu_py38ha02dd7b_1  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">13</span>.<span class=\"number\">1</span> cpu_py39h92724a6_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">13</span>.<span class=\"number\">1</span> cpu_py39h9dc8d95_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                       <span class=\"number\">1</span>.<span class=\"number\">13</span>.<span class=\"number\">1</span> cpu_py39ha02dd7b_1  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                        <span class=\"number\">2</span>.<span class=\"number\">0</span>.<span class=\"number\">1</span> cpu_py310hab5cca8_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                        <span class=\"number\">2</span>.<span class=\"number\">0</span>.<span class=\"number\">1</span> cpu_py310hdc00b08_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                        <span class=\"number\">2</span>.<span class=\"number\">0</span>.<span class=\"number\">1</span> cpu_py311h53e38e9_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                        <span class=\"number\">2</span>.<span class=\"number\">0</span>.<span class=\"number\">1</span> cpu_py311h6d93b4c_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                        <span class=\"number\">2</span>.<span class=\"number\">0</span>.<span class=\"number\">1</span> cpu_py38hab5cca8_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                        <span class=\"number\">2</span>.<span class=\"number\">0</span>.<span class=\"number\">1</span> cpu_py38hdc00b08_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                        <span class=\"number\">2</span>.<span class=\"number\">0</span>.<span class=\"number\">1</span> cpu_py39hab5cca8_0  pkgs/main</span><br><span class=\"line\"><span class=\"attribute\">pytorch</span>                        <span class=\"number\">2</span>.<span class=\"number\">0</span>.<span class=\"number\">1</span> cpu_py39hdc00b08_0  pkgs/main</span><br></pre></td></tr></table></figure>\n\n<p>å¯ä»¥çœ‹åˆ°æœ€æ–°æ”¯æŒåˆ° python 3.11 äº†ã€‚</p>\n<p>å®‰è£… python 3.11</p>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">conda install python<span class=\"operator\">=</span><span class=\"operator\">=</span><span class=\"number\">3.11</span></span><br></pre></td></tr></table></figure>\n\n<p>å®‰è£…ä¾èµ–åŒ…ï¼š</p>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">pip</span> install torch tabulate tqdm transformers==<span class=\"number\">4</span>.<span class=\"number\">33</span>.<span class=\"number\">2</span> accelerate sentencepiece aiohttp</span><br></pre></td></tr></table></figure>\n\n<p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œtransformers åŒ…çš„ç‰ˆæœ¬æŒ‡å®šåˆ° 4.33.2ï¼Œå› ä¸ºæ›´é«˜ç‰ˆæœ¬çš„ transformers çš„ api å‘ç”Ÿäº†å˜åŒ–ï¼Œå¯¼è‡´æ¨¡å‹è½¬æ¢ä¸­å‡ºé”™ã€‚</p>\n<p>å¦å¤–å¢åŠ äº† aiohttp åŒ…ï¼Œå› ä¸º openai åŒ…ä¾èµ–è¿™ä¸ªåŒ…ï¼Œä½†æ˜¯æ²¡æœ‰è¢«è‡ªåŠ¨å®‰è£…ã€‚</p>\n<p>è‡³æ­¤ï¼Œè½¬æ¢æ¨¡å‹çš„ç¯å¢ƒå·²ç»æ­å»ºå¥½äº†ã€‚</p>\n<h3 id=\"æ¨¡å‹è½¬æ¢\"><a href=\"#æ¨¡å‹è½¬æ¢\" class=\"headerlink\" title=\"æ¨¡å‹è½¬æ¢\"></a>æ¨¡å‹è½¬æ¢</h3><p>æ¨¡å‹è½¬æ¢è¿‡ç¨‹ä¸­éœ€è¦å’Œæ¨¡å‹ç›¸å½“å¤§å°çš„å†…å­˜ï¼ˆchatglm æ¨¡å‹éœ€è¦ 25G å†…å­˜ï¼‰ï¼Œå¦‚æœæœ¬æœºæ²¡æœ‰è¿™ä¹ˆå¤§çš„å†…å­˜ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•è§£å†³ï¼š</p>\n<ul>\n<li><p>æ‰¾ä¸€å°å¤§å†…å­˜çš„æœºå™¨</p>\n</li>\n<li><p>ä½¿ç”¨åœ¨å…¶ä»–æœºå™¨è½¬æ¢å¥½çš„æ¨¡å‹ã€‚æˆ‘è¿™é‡Œæœ‰ä¸¤ä¸ªè½¬æ¢åçš„æ¨¡å‹ï¼š</p>\n</li>\n<li><p>é“¾æ¥ï¼š<a href=\"https://xie.infoq.cn/link?target=https://pan.baidu.com/s/1nXcd6NMOtIvPGX_i_rIaAQ\">https://pan.baidu.com/s/1nXcd6NMOtIvPGX_i_rIaAQ</a>æå–ç ï¼šs7g9</p>\n</li>\n<li><p>åœ¨ä¸€äº›å…è´¹çš„äº‘æœåŠ¡å™¨ä¸Šè½¬æ¢ï¼Œå¦‚ï¼š<a href=\"https://gitpod.io(gitpod/\">https://gitpod.ioï¼ˆgitpod</a> åˆ›å»ºç¯å¢ƒçš„æ—¶å€™é€‰æ‹©å¤§å­˜å‚¨ï¼Œæœ‰ 50G å­˜å‚¨ç©ºé—´ï¼Œå¦åˆ™é»˜è®¤åªæœ‰ 30Gï¼Œå¯èƒ½ä¸å¤ªå¤Ÿï¼‰</p>\n</li>\n</ul>\n<h4 id=\"ä¸‹è½½\"><a href=\"#ä¸‹è½½\" class=\"headerlink\" title=\"ä¸‹è½½\"></a>ä¸‹è½½</h4><p>æ¥ä¸‹æ¥ä¸‹è½½å¤§æ¨¡å‹ã€‚</p>\n<p>å½“å‰æ”¯æŒçš„å¤§æ¨¡å‹å¦‚ä¸‹ï¼š</p>\n<ul>\n<li><p>ChatGLM-6B: <code>THUDM/chatglm-6b</code>, <code>THUDM/chatglm-6b-int8</code>, <code>THUDM/chatglm-6b-int4</code>  </p>\n</li>\n<li><p>ChatGLM2-6B: <code>THUDM/chatglm2-6b</code>, <code>THUDM/chatglm2-6b-int4</code>  </p>\n</li>\n<li><p>ChatGLM3-6B: <code>THUDM/chatglm3-6b</code>  </p>\n</li>\n<li><p>CodeGeeX2: <code>THUDM/codegeex2-6b</code>, <code>THUDM/codegeex2-6b-int4</code>  </p>\n</li>\n<li><p>Baichuan &amp; Baichuan2: <code>baichuan-inc/Baichuan-13B-Chat</code>, <code>baichuan-inc/Baichuan2-7B-Chat</code>, <code>baichuan-inc/Baichuan2-13B-Chat</code></p>\n</li>\n</ul>\n<p>å¯ä»¥ä½¿ç”¨ git ç›´æ¥ä» Hugging Face ç›´æ¥ä¸‹è½½æ¨¡å‹ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œgit éœ€è¦æ”¯æŒ lfsï¼Œæ‰èƒ½å°†å¤§æ¨¡å‹å®Œæ•´ä¸‹è½½ä¸‹æ¥ã€‚å„è½¯ä»¶ä»“åº“åº”è¯¥éƒ½æœ‰ git-lfs åŒ…ï¼Œå®‰è£…è¿‡ç¨‹è¿™é‡Œå°±çœç•¥äº†ã€‚</p>\n<p>å®‰è£…é…ç½®å®Œ lfs åï¼Œå°±å¯ä»¥ä¸‹è½½å¤§æ¨¡å‹äº†ï¼Œè¿™é‡Œä»¥ chatglm æ¨¡å‹ä¸¾ä¾‹ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> https://huggingface.co/THUDM/chatglm-6b</span><br></pre></td></tr></table></figure>\n\n<p>å…¶ä»–æ¨¡å‹ç±»ä¼¼ã€‚</p>\n<p>æ³¨æ„ä¸€ç‚¹æ˜¯è¿™ä¸ªå‘½ä»¤ä¼šå¡ä½ï¼Œå®é™…ä¸Šä¸æ˜¯å¡ä½äº†ï¼Œæ˜¯ lfs æ­£åœ¨æ‹‰å–äºŒè¿›åˆ¶çš„æ¨¡å‹ã€‚å¯ä»¥å¦å¼€ä¸€ä¸ªç»ˆç«¯ä½¿ç”¨<code>du -h</code>å‘½ä»¤æŸ¥çœ‹ç›®å½•çš„å¤§å°å˜åŒ–ã€‚</p>\n<p>chatglm-6b æ¨¡å‹å¤§çº¦ 25Gï¼Œå› æ­¤è¿™ä¸ªä¸‹è½½æ—¶é—´å–å†³äºç½‘é€Ÿï¼Œgit ä¸æ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼Œæ‰€ä»¥ä¸€å®šä¸è¦æ–­å¼€ç½‘ç»œã€‚è¿˜æœ‰ä¸€äº›å…¶ä»–ä¸‹è½½æ¨¡å‹çš„æ–¹å¼ï¼Œå¯ä»¥è‡ªè¡Œæœç´¢ã€‚</p>\n<h4 id=\"è½¬æ¢\"><a href=\"#è½¬æ¢\" class=\"headerlink\" title=\"è½¬æ¢\"></a>è½¬æ¢</h4><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è½¬æ¢æ¨¡å‹ä¸º ggm æ¨¡å‹ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python3 chatglm_cpp/convert.py -i THUDM/chatglm-6b -t q4_0 -o chatglm-ggml.bin</span><br></pre></td></tr></table></figure>\n\n<p>å…¶ä¸­ THUDM&#x2F;chatglm-6b æ˜¯æ¨¡å‹è·¯å¾„ï¼ˆä¸Šä¸€æ­¥æ¨¡å‹ git åº“çš„è·¯å¾„ï¼‰ï¼Œchatglm-ggml.bin æ˜¯è¾“å‡ºçš„ CPU æ¨¡å‹æ–‡ä»¶ã€‚</p>\n<p>q4_0 ä¸ºè½¬æ¢ç±»å‹ï¼Œè§£é‡Šå¦‚ä¸‹ï¼š</p>\n<ul>\n<li><p>q4_0: ä½¿ç”¨ fp16 æ ‡åº¦çš„ 4 ä½æ•´æ•°é‡åŒ–ã€‚</p>\n</li>\n<li><p>q4_1: å…·æœ‰ fp16 æ ‡åº¦å’Œæœ€å°å€¼çš„ 4 ä½æ•´æ•°é‡åŒ–ã€‚</p>\n</li>\n<li><p>q5_0: åŸºäº fp16 æ ‡åº¦çš„ 5 ä½æ•´æ•°é‡åŒ–ã€‚</p>\n</li>\n<li><p>q5_1: å…·æœ‰ fp16 æ ‡åº¦å’Œæœ€å°å€¼çš„ 5 ä½æ•´æ•°é‡åŒ–ã€‚</p>\n</li>\n<li><p>q8_0:8 ä½æ•´æ•°é‡åŒ–ä¸ fp16 å°ºåº¦ã€‚</p>\n</li>\n<li><p>f16: æ— é‡åŒ–çš„åŠç²¾åº¦æµ®ç‚¹æƒé‡ã€‚</p>\n</li>\n<li><p>f32: æ— é‡åŒ–çš„å•ç²¾åº¦æµ®ç‚¹æƒé‡ã€‚</p>\n</li>\n</ul>\n<p>ä¸åŒç±»å‹æ•ˆæœä¸åŒï¼Œæ¶ˆè€—çš„èµ„æºä¹Ÿä¸åŒï¼Œå¯ä»¥å¤šå°è¯•å‡ ä¸ªã€‚</p>\n<p>è¿™é‡Œé€‰ç”¨äº†èµ„æºæ¶ˆè€—æœ€å°çš„ q4_0 ç±»å‹ã€‚</p>\n<p>æ‰§è¡Œåç”Ÿæˆ chatglm-ggml.bin æ–‡ä»¶ã€‚</p>\n<h3 id=\"æ„å»ºå¯æ‰§è¡Œæ–‡ä»¶\"><a href=\"#æ„å»ºå¯æ‰§è¡Œæ–‡ä»¶\" class=\"headerlink\" title=\"æ„å»ºå¯æ‰§è¡Œæ–‡ä»¶\"></a>æ„å»ºå¯æ‰§è¡Œæ–‡ä»¶</h3><p>è¿›å…¥åˆ° ChatGLM.cpp çš„æºç æ‰€åœ¨ç›®å½•ï¼Œæ‰§è¡Œï¼š</p>\n<figure class=\"highlight mipsasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cmake -<span class=\"keyword\">B </span><span class=\"keyword\">build</span></span><br><span class=\"line\"><span class=\"keyword\"></span>cmake --<span class=\"keyword\">build </span><span class=\"keyword\">build </span>-<span class=\"keyword\">j </span>--<span class=\"built_in\">config</span> Release</span><br><span class=\"line\">python setup.py <span class=\"keyword\">build_ext </span>--inplace</span><br></pre></td></tr></table></figure>\n\n<p>ç¼–è¯‘åç”Ÿæˆ <code>./build/bin/main</code>  </p>\n<h3 id=\"å‘½ä»¤è¡Œè¿è¡Œ\"><a href=\"#å‘½ä»¤è¡Œè¿è¡Œ\" class=\"headerlink\" title=\"å‘½ä»¤è¡Œè¿è¡Œ\"></a>å‘½ä»¤è¡Œè¿è¡Œ</h3><p>ä½¿ç”¨å‘½ä»¤è¡Œï¼š</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./build/bin/<span class=\"selector-tag\">main</span> -m chatglm-ggml<span class=\"selector-class\">.bin</span> -<span class=\"selector-tag\">p</span> <span class=\"string\">&quot;ä½ å¥½ï¼Œä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>chatglm-ggml.bin å°±æ˜¯å‰é¢è½¬æ¢å‡ºæ¥çš„ ggml æ¨¡å‹ã€‚</p>\n<p>æˆ‘è¿™è¾¹å¾—åˆ°çš„è¾“å‡ºå¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight subunit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ä½ å¥½ï¼Œæˆ‘æ˜¯ ChatGLM<span class=\"string\">-6</span>Bï¼Œæ˜¯æ¸…åå¤§å­¦KEGå®éªŒå®¤å’Œæ™ºè°±AIå…¬å¸å…±åŒè®­ç»ƒçš„è¯­è¨€æ¨¡å‹ã€‚æˆ‘çš„ç›®æ ‡æ˜¯é€šè¿‡å›ç­”ç”¨æˆ·æå‡ºçš„é—®é¢˜æ¥å¸®åŠ©ä»–ä»¬è§£å†³é—®é¢˜ã€‚ç”±äºæˆ‘æ˜¯ä¸€ä¸ªè®¡ç®—æœºç¨‹åºï¼Œæ‰€ä»¥æˆ‘æ²¡æœ‰è‡ªæˆ‘æ„è¯†ï¼Œä¹Ÿä¸èƒ½åƒäººç±»ä¸€æ ·æ„ŸçŸ¥ä¸–ç•Œã€‚æˆ‘åªèƒ½é€šè¿‡åˆ†ææˆ‘æ‰€å­¦åˆ°çš„ä¿¡æ¯æ¥å›ç­”é—®é¢˜ã€‚</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"äº¤äº’å¼è¿è¡Œ\"><a href=\"#äº¤äº’å¼è¿è¡Œ\" class=\"headerlink\" title=\"äº¤äº’å¼è¿è¡Œ\"></a>äº¤äº’å¼è¿è¡Œ</h3><p>å°†<code>-p</code>å‚æ•°æ›¿æ¢ä¸º<code>-i</code>å°±å¯ä»¥è¿›å…¥äº¤äº’å¼è¿è¡Œï¼š</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./build/bin/<span class=\"selector-tag\">main</span> -m chatglm-ggml<span class=\"selector-class\">.bin</span> -<span class=\"selector-tag\">i</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">________          __  ________    __  ___</span><br><span class=\"line\">   <span class=\"regexp\">/ ____/</span> <span class=\"regexp\">/_  ____ _/</span> <span class=\"regexp\">/_/</span> ____<span class=\"regexp\">/ /</span>   <span class=\"regexp\">/  |/</span>  /_________  ____</span><br><span class=\"line\">  <span class=\"regexp\">/ /</span>   <span class=\"regexp\">/ __ \\/ __ `/</span> __<span class=\"regexp\">/ /</span> __<span class=\"regexp\">/ /</span>   <span class=\"regexp\">/ /</span>|_<span class=\"regexp\">/ /</span><span class=\"regexp\">/ ___/</span> __ \\/ __ \\</span><br><span class=\"line\"> <span class=\"regexp\">/ /</span>___<span class=\"regexp\">/ /</span> <span class=\"regexp\">/ /</span> <span class=\"regexp\">/_/</span> <span class=\"regexp\">/ /</span>_<span class=\"regexp\">/ /</span>_<span class=\"regexp\">/ /</span> <span class=\"regexp\">/___/</span> <span class=\"regexp\">/  /</span> <span class=\"regexp\">//</span> <span class=\"regexp\">/__/</span> <span class=\"regexp\">/_/</span> <span class=\"regexp\">/ /</span>_<span class=\"regexp\">/ /</span></span><br><span class=\"line\"> \\____<span class=\"regexp\">/_/</span> <span class=\"regexp\">/_/</span>\\__,_<span class=\"regexp\">/\\__/</span>\\____<span class=\"regexp\">/_____/</span>_<span class=\"regexp\">/  /</span>_(_)___<span class=\"regexp\">/ .___/</span> .___/</span><br><span class=\"line\">                                              <span class=\"regexp\">/_/</span>   <span class=\"regexp\">/_/</span></span><br><span class=\"line\"></span><br><span class=\"line\">Welcome to ChatGLM.cpp! Ask whatever you want. Type <span class=\"string\">&#x27;clear&#x27;</span> to clear context. Type <span class=\"string\">&#x27;stop&#x27;</span> to <span class=\"keyword\">exit</span>.</span><br><span class=\"line\"></span><br><span class=\"line\">Prompt  &gt; ä½ å¥½</span><br><span class=\"line\">ChatGLM &gt; ä½ å¥½ğŸ‘‹ï¼æˆ‘æ˜¯äººå·¥æ™ºèƒ½åŠ©æ‰‹ ChatGLM-<span class=\"number\">6</span>Bï¼Œå¾ˆé«˜å…´è§åˆ°ä½ ï¼Œæ¬¢è¿é—®æˆ‘ä»»ä½•é—®é¢˜ã€‚</span><br><span class=\"line\">Prompt  &gt; ä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±</span><br><span class=\"line\">ChatGLM &gt; æˆ‘æ˜¯ä¸€ä¸ªå¤§å‹è¯­è¨€æ¨¡å‹ï¼Œè¢«è®­ç»ƒç”¨æ¥å›ç­”äººç±»æå‡ºçš„é—®é¢˜ã€‚æˆ‘ä½¿ç”¨äº†å¤§è§„æ¨¡æ•°æ®å’Œç®—æ³•æ¥ç”Ÿæˆå›ç­”ï¼Œå¯ä»¥å¸®åŠ©äººä»¬è§£å†³å„ç§é—®é¢˜ã€‚æˆ‘çš„èƒ½åŠ›è¦†ç›–äº†è®¸å¤šä¸»é¢˜ï¼ŒåŒ…æ‹¬å†å²ã€ç§‘å­¦ã€æŠ€æœ¯ã€æ–‡åŒ–ã€è¯­è¨€å’Œå¨±ä¹ç­‰ç­‰ã€‚</span><br><span class=\"line\">Prompt  &gt; GPTçš„åŸç†æ˜¯ä»€ä¹ˆ</span><br><span class=\"line\">ChatGLM &gt; GPT(Generative Pretrained Transformer)æ˜¯ä¸€ç§åŸºäºTransformeræ¶æ„çš„è‡ªç„¶è¯­è¨€å¤„ç†æ¨¡å‹ã€‚å®ƒçš„åŸç†æ˜¯ä½¿ç”¨å¤§é‡æ–‡æœ¬æ•°æ®è¿›è¡Œé¢„è®­ç»ƒï¼Œä»¥ä¾¿åœ¨åç»­ä»»åŠ¡ä¸­èƒ½å¤Ÿç”Ÿæˆè‡ªç„¶è¯­è¨€æ–‡æœ¬ã€‚åœ¨é¢„è®­ç»ƒæœŸé—´ï¼ŒGPTå­¦ä¹ åˆ°äº†å¤§é‡çš„è¯­è¨€æ¨¡å¼å’Œè§„å¾‹ï¼Œè¿™äº›çŸ¥è¯†å’Œæ¨¡å¼å¯ä»¥ç”¨</span><br><span class=\"line\">äºç”Ÿæˆè‡ªç„¶è¯­è¨€æ–‡æœ¬ã€‚åœ¨åç»­ä»»åŠ¡ä¸­ï¼ŒGPTå¯ä»¥æ ¹æ®è¿™äº›çŸ¥è¯†å’Œæ¨¡å¼ç”Ÿæˆæ–‡æœ¬ï¼Œå¸®åŠ©äººä»¬å®Œæˆå„ç§ä»»åŠ¡ï¼Œä¾‹å¦‚å›ç­”é—®é¢˜ã€æ’°å†™æ–‡ç« ã€ç¿»è¯‘æ–‡æœ¬ç­‰ç­‰ã€‚GPTæ˜¯ç”± OpenAIå¼€å‘çš„ï¼Œå®ƒè¢«å¹¿æ³›åº”ç”¨äºè‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸã€‚</span><br><span class=\"line\">Prompt  &gt;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"web-æ‰§è¡Œ\"><a href=\"#web-æ‰§è¡Œ\" class=\"headerlink\" title=\"web æ‰§è¡Œ\"></a>web æ‰§è¡Œ</h3><p>å‰é¢ä»‹ç»äº†åœ¨å‘½ä»¤è¡Œè¿è¡Œå¤§æ¨¡å‹çš„æ­¥éª¤ï¼Œå¦‚æœæƒ³è¦åœ¨ web ä¸­è¿è¡Œï¼Œéœ€è¦å®‰è£…ä¸€äº›é¢å¤–çš„åŒ…ã€‚</p>\n<p>å®‰è£… chatglm_cpp åŒ…ï¼š</p>\n<p>æˆ–è€…ç›´æ¥ä»ä»“åº“å®‰è£…ï¼š</p>\n<figure class=\"highlight cmake\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip <span class=\"keyword\">install</span> -U chatglm-cpp</span><br></pre></td></tr></table></figure>\n\n<p>å®‰è£… chatglm-cpp åŒ…ä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨ python ç›´æ¥è°ƒç”¨ ChatGLM.cpp äº†ï¼š</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import chatglm_cpp</span><br><span class=\"line\"></span><br><span class=\"line\">pipeline = chatglm_cpp<span class=\"selector-class\">.Pipeline</span>(<span class=\"string\">&quot;../chatglm-ggml.bin&quot;</span>)</span><br><span class=\"line\">pipeline<span class=\"selector-class\">.chat</span>(<span class=\"selector-attr\">[<span class=\"string\">&quot;ä½ å¥½&quot;</span>]</span>)</span><br></pre></td></tr></table></figure>\n\n<p>ä½œè€…æä¾›äº†ä¸€äº› demoï¼Œä½äº examples ç›®å½•ä¸‹ï¼Œè¿è¡Œå…¶ä¸­çš„ web demoï¼š</p>\n<figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install -U gradio</span><br><span class=\"line\"><span class=\"keyword\">python3</span> examples/web_demo.<span class=\"keyword\">py</span> -<span class=\"keyword\">m</span> chatglm-ggml.bin</span><br></pre></td></tr></table></figure>\n\n<p>æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®<code>http://127.0.0.1:7860</code>  </p>\n<p><img src=\"https://static001.geekbang.org/infoq/a1/a177c24cb1178bb3ae03e98210fdf21a.png\"></p>\n<h3 id=\"å¼€æ”¾-API\"><a href=\"#å¼€æ”¾-API\" class=\"headerlink\" title=\"å¼€æ”¾ API\"></a>å¼€æ”¾ API</h3><p>å¯ä»¥å°†èŠå¤©èƒ½åŠ›å¼€æ”¾å‡ºæ¥ï¼Œä¾›å…¶ä»–åº”ç”¨ç¨‹åºä½¿ç”¨ã€‚</p>\n<p>è¦æƒ³ä½¿ç”¨å¼€æ”¾ APIï¼Œéœ€è¦å®‰è£… chatglm-app[api] åŒ…ï¼š</p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">pip</span> install <span class=\"string\">&#x27;chatglm-cpp[api]&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"LangChain-API\"><a href=\"#LangChain-API\" class=\"headerlink\" title=\"LangChain API\"></a>LangChain API</h4><p>å¯åŠ¨ API Serverï¼š</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">MODEL=./chatglm-ggml<span class=\"selector-class\">.bin</span> uvicorn chatglm_cpp<span class=\"selector-class\">.langchain_api</span>:app <span class=\"attr\">--host</span> <span class=\"number\">127.0</span>.<span class=\"number\">0.1</span> <span class=\"attr\">--port</span> <span class=\"number\">8000</span></span><br></pre></td></tr></table></figure>\n\n<p>æµ‹è¯•ï¼š</p>\n<figure class=\"highlight ada\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl http://<span class=\"number\">127.0</span>.<span class=\"number\">0.1</span>:<span class=\"number\">8000</span> -H <span class=\"symbol\">&#x27;Content</span>-<span class=\"keyword\">Type</span>: application/json&#x27; -d &#x27;&#123;<span class=\"string\">&quot;prompt&quot;</span>: <span class=\"string\">&quot;ä½ å¥½&quot;</span>&#125;&#x27;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"OpenAI-API\"><a href=\"#OpenAI-API\" class=\"headerlink\" title=\"OpenAI API\"></a>OpenAI API</h4><p>å¯åŠ¨ API Serverï¼š</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">MODEL=./chatglm-ggml<span class=\"selector-class\">.bin</span> uvicorn chatglm_cpp<span class=\"selector-class\">.openai_api</span>:app <span class=\"attr\">--host</span> <span class=\"number\">127.0</span>.<span class=\"number\">0.1</span> <span class=\"attr\">--port</span> <span class=\"number\">8000</span></span><br></pre></td></tr></table></figure>\n\n<p>æµ‹è¯•ï¼š</p>\n<figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl http:<span class=\"regexp\">//</span><span class=\"number\">127.0</span>.<span class=\"number\">0.1</span>:<span class=\"number\">8000</span><span class=\"regexp\">/v1/</span>chat<span class=\"regexp\">/completions -H &#x27;Content-Type: application/</span>json<span class=\"string\">&#x27; \\</span></span><br><span class=\"line\"><span class=\"string\">    -d &#x27;</span>&#123;<span class=\"string\">&quot;messages&quot;</span>: [&#123;<span class=\"string\">&quot;role&quot;</span>: <span class=\"string\">&quot;user&quot;</span>, <span class=\"string\">&quot;content&quot;</span>: <span class=\"string\">&quot;ä½ å¥½&quot;</span>&#125;]&#125;<span class=\"string\">&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"docker-éƒ¨ç½²\"><a href=\"#docker-éƒ¨ç½²\" class=\"headerlink\" title=\"docker éƒ¨ç½²\"></a>docker éƒ¨ç½²</h2><h3 id=\"æœ¬åœ°æ„å»ºé•œåƒ\"><a href=\"#æœ¬åœ°æ„å»ºé•œåƒ\" class=\"headerlink\" title=\"æœ¬åœ°æ„å»ºé•œåƒ\"></a>æœ¬åœ°æ„å»ºé•œåƒ</h3><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ„å»ºå¹¶è¿è¡Œæœ¬åœ°é•œåƒï¼š</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker build . <span class=\"attr\">--network</span>=host -t chatglm<span class=\"selector-class\">.cpp</span></span><br><span class=\"line\"></span><br><span class=\"line\">docker run -it <span class=\"attr\">--rm</span> -v <span class=\"variable\">$PWD</span>:/opt chatglm<span class=\"selector-class\">.cpp</span> ./build/bin/<span class=\"selector-tag\">main</span> -m /opt/chatglm-ggml<span class=\"selector-class\">.bin</span> -<span class=\"selector-tag\">p</span> <span class=\"string\">&quot;ä½ å¥½&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">docker run -it <span class=\"attr\">--rm</span> -v <span class=\"variable\">$PWD</span>:/opt chatglm<span class=\"selector-class\">.cpp</span> python3 examples/cli_chat<span class=\"selector-class\">.py</span> -m /opt/chatglm-ggml<span class=\"selector-class\">.bin</span> -<span class=\"selector-tag\">p</span> <span class=\"string\">&quot;ä½ å¥½&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">docker run -it <span class=\"attr\">--rm</span> -v <span class=\"variable\">$PWD</span>:/opt -<span class=\"selector-tag\">p</span> <span class=\"number\">8000</span>:<span class=\"number\">8000</span> -e MODEL=/opt/chatglm-ggml<span class=\"selector-class\">.bin</span> chatglm<span class=\"selector-class\">.cpp</span> \\</span><br><span class=\"line\">    uvicorn chatglm_cpp<span class=\"selector-class\">.langchain_api</span>:app <span class=\"attr\">--host</span> <span class=\"number\">0.0</span>.<span class=\"number\">0.0</span> <span class=\"attr\">--port</span> <span class=\"number\">8000</span></span><br><span class=\"line\"></span><br><span class=\"line\">docker run -it <span class=\"attr\">--rm</span> -v <span class=\"variable\">$PWD</span>:/opt -<span class=\"selector-tag\">p</span> <span class=\"number\">8000</span>:<span class=\"number\">8000</span> -e MODEL=/opt/chatglm-ggml<span class=\"selector-class\">.bin</span> chatglm<span class=\"selector-class\">.cpp</span> \\</span><br><span class=\"line\">    uvicorn chatglm_cpp<span class=\"selector-class\">.openai_api</span>:app <span class=\"attr\">--host</span> <span class=\"number\">0.0</span>.<span class=\"number\">0.0</span> <span class=\"attr\">--port</span> <span class=\"number\">8000</span></span><br></pre></td></tr></table></figure>\n\n<p>å¯ç”¨ CUDA æ”¯æŒï¼š</p>\n<figure class=\"highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker build . --network=host -t chatglm.cpp-cuda \\</span><br><span class=\"line\">    --build-<span class=\"keyword\">arg</span> BASE_IMAGE=nvidia/cuda:<span class=\"number\">12.2</span>.<span class=\"number\">0</span>-devel-ubuntu20.<span class=\"number\">04</span> \\</span><br><span class=\"line\">    --build-<span class=\"keyword\">arg</span> CMAKE_ARGS=<span class=\"string\">&quot;-DGGML_CUBLAS=ON&quot;</span></span><br><span class=\"line\">docker <span class=\"keyword\">run</span><span class=\"language-bash\"> -it --<span class=\"built_in\">rm</span> --gpus all -v <span class=\"variable\">$PWD</span>:/chatglm.cpp/models chatglm.cpp-cuda ./build/bin/main -m models/chatglm-ggml.bin -p <span class=\"string\">&quot;ä½ å¥½&quot;</span></span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä½¿ç”¨é¢„æ„å»ºçš„é•œåƒ\"><a href=\"#ä½¿ç”¨é¢„æ„å»ºçš„é•œåƒ\" class=\"headerlink\" title=\"ä½¿ç”¨é¢„æ„å»ºçš„é•œåƒ\"></a>ä½¿ç”¨é¢„æ„å»ºçš„é•œåƒ</h3><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä½¿ç”¨é¢„æ„å»ºçš„é•œåƒï¼š</p>\n<figure class=\"highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker <span class=\"keyword\">run</span><span class=\"language-bash\"> -it --<span class=\"built_in\">rm</span> -v <span class=\"variable\">$PWD</span>:/opt liplusx/chatglm.cpp:main \\</span></span><br><span class=\"line\"><span class=\"language-bash\">    ./build/bin/main -m /opt/chatglm-ggml.bin -p <span class=\"string\">&quot;ä½ å¥½&quot;</span></span></span><br></pre></td></tr></table></figure>\n\n<p>æˆ–è€…ï¼š</p>\n<figure class=\"highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker <span class=\"keyword\">run</span><span class=\"language-bash\"> -it --<span class=\"built_in\">rm</span> -v <span class=\"variable\">$PWD</span>:/opt ghcr.io/li-plus/chatglm.cpp:main \\</span></span><br><span class=\"line\"><span class=\"language-bash\">    ./build/bin/main -m /opt/chatglm-ggml.bin -p <span class=\"string\">&quot;ä½ å¥½&quot;</span></span></span><br></pre></td></tr></table></figure>\n\n<p>æœ¬æ•™ç¨‹åŸºæœ¬æ˜¯æŒ‰ç…§ Chat GLM.cpp é¡¹ç›®ä¸­çš„ README ç¼–å†™çš„ï¼Œä½†æ˜¯ä¸­é—´æœ‰ä¸€äº›å‘åœ¨ README ä¸­æ²¡æœ‰æåˆ°ï¼ŒæŒ‰ç…§æœ¬æ•™ç¨‹å¯ä»¥æœ‰æ•ˆé¿å‘ã€‚</p>\n","text":"ç”¨çº¯CPUç¯å¢ƒæ­å»ºå¤§æ¨¡å‹ç¯å¢ƒé…å¥—è§†é¢‘ï¼š å¤§æ¨¡å‹ç°åœ¨æ­£å¤„äºé«˜é€Ÿå‘å±•æ—¶æœŸï¼Œå„å‚å•†éƒ½æ¨å‡ºäº†è‡ªå·±çš„å¤§æ¨¡å‹ï¼Œå„ç§å¼€æºæ¨¡å‹ä¹Ÿå±‚å‡ºä¸ç©·ã€‚å°½ç®¡å„å‚å•†éƒ½æœ‰åº”ç”¨æ¥å…¥ APIï¼Œä½†åœ¨ä½¿...","permalink":"/post/WORK/ç”¨çº¯CPUç¯å¢ƒæ­å»ºå¤§æ¨¡å‹ç¯å¢ƒ","photos":[],"count_time":{"symbolsCount":"11k","symbolsTime":"10 mins."},"categories":[{"name":"chatglm","slug":"chatglm","count":1,"path":"api/categories/chatglm.json"},{"name":"WORK","slug":"chatglm/WORK","count":1,"path":"api/categories/chatglm/WORK.json"}],"tags":[{"name":"https","slug":"https","count":44,"path":"api/tags/https.json"},{"name":"cpp","slug":"cpp","count":1,"path":"api/tags/cpp.json"},{"name":"THUDM","slug":"THUDM","count":1,"path":"api/tags/THUDM.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%94%A8%E7%BA%AFCPU%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%8E%AF%E5%A2%83\"><span class=\"toc-text\">ç”¨çº¯CPUç¯å¢ƒæ­å»ºå¤§æ¨¡å‹ç¯å¢ƒ</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%BA%AF%E6%BA%90%E7%A0%81%E7%89%A9%E7%90%86%E6%9C%BA%E9%83%A8%E7%BD%B2\"><span class=\"toc-text\">çº¯æºç ç‰©ç†æœºéƒ¨ç½²</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%BA%90%E7%A0%81%E8%8E%B7%E5%8F%96\"><span class=\"toc-text\">æºç è·å–</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BE%9D%E8%B5%96%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">ä¾èµ–å®‰è£…</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%A8%A1%E5%9E%8B%E8%BD%AC%E6%8D%A2\"><span class=\"toc-text\">æ¨¡å‹è½¬æ¢</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%B8%8B%E8%BD%BD\"><span class=\"toc-text\">ä¸‹è½½</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%BD%AC%E6%8D%A2\"><span class=\"toc-text\">è½¬æ¢</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9E%84%E5%BB%BA%E5%8F%AF%E6%89%A7%E8%A1%8C%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">æ„å»ºå¯æ‰§è¡Œæ–‡ä»¶</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%BF%90%E8%A1%8C\"><span class=\"toc-text\">å‘½ä»¤è¡Œè¿è¡Œ</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BA%A4%E4%BA%92%E5%BC%8F%E8%BF%90%E8%A1%8C\"><span class=\"toc-text\">äº¤äº’å¼è¿è¡Œ</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#web-%E6%89%A7%E8%A1%8C\"><span class=\"toc-text\">web æ‰§è¡Œ</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%BC%80%E6%94%BE-API\"><span class=\"toc-text\">å¼€æ”¾ API</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#LangChain-API\"><span class=\"toc-text\">LangChain API</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#OpenAI-API\"><span class=\"toc-text\">OpenAI API</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#docker-%E9%83%A8%E7%BD%B2\"><span class=\"toc-text\">docker éƒ¨ç½²</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9C%AC%E5%9C%B0%E6%9E%84%E5%BB%BA%E9%95%9C%E5%83%8F\"><span class=\"toc-text\">æœ¬åœ°æ„å»ºé•œåƒ</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8%E9%A2%84%E6%9E%84%E5%BB%BA%E7%9A%84%E9%95%9C%E5%83%8F\"><span class=\"toc-text\">ä½¿ç”¨é¢„æ„å»ºçš„é•œåƒ</span></a></li></ol></li></ol></li></ol>","author":{"name":"dandeliono","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/29496357","link":"/","description":"æ°¸è¿œç›¸ä¿¡ç¾å¥½çš„äº‹æƒ…å³å°†å‘ç”Ÿ","socials":{"github":"https://github.com/dandeliono","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"ç›´è§‚æ„Ÿå— TLS æ¡æ‰‹æµç¨‹(ä¸Š)","uid":"18647109cd1271b82271b0b5bf74c52c","slug":"NETWORK/ç›´è§‚æ„Ÿå— TLS æ¡æ‰‹æµç¨‹(ä¸Š)","date":"2024-03-08T10:07:56.000Z","updated":"2025-12-05T01:47:53.731Z","comments":true,"path":"api/articles/NETWORK/ç›´è§‚æ„Ÿå— TLS æ¡æ‰‹æµç¨‹(ä¸Š).json","keywords":"XuGuangSheng","cover":"/covers/tls.jpg","text":"ç›´è§‚æ„Ÿå— TLS æ¡æ‰‹æµç¨‹(ä¸Š)åœ¨ HTTPS å¼€ç¯‡çš„æ–‡ç« ä¸­ï¼Œç¬”è€…åˆ†æäº† HTTPS ä¹‹æ‰€ä»¥å®‰å…¨çš„åŸå› æ˜¯å› ä¸º TLS åè®®çš„å­˜åœ¨ã€‚TLS èƒ½ä¿è¯ä¿¡æ¯å®‰å…¨å’Œå®Œæ•´æ€§...","permalink":"/post/NETWORK/ç›´è§‚æ„Ÿå— TLS æ¡æ‰‹æµç¨‹(ä¸Š)","photos":[],"count_time":{"symbolsCount":"56k","symbolsTime":"51 mins."},"categories":[{"name":"Server","slug":"Server","count":1,"path":"api/categories/Server.json"},{"name":"NETWORK","slug":"Server/NETWORK","count":1,"path":"api/categories/Server/NETWORK.json"}],"tags":[{"name":"https","slug":"https","count":44,"path":"api/tags/https.json"},{"name":"Client","slug":"Client","count":2,"path":"api/tags/Client.json"},{"name":"TLS","slug":"TLS","count":1,"path":"api/tags/TLS.json"}],"author":{"name":"dandeliono","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/29496357","link":"/","description":"æ°¸è¿œç›¸ä¿¡ç¾å¥½çš„äº‹æƒ…å³å°†å‘ç”Ÿ","socials":{"github":"https://github.com/dandeliono","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"NullPointerException æ²¡æœ‰æ‰“å°å¼‚å¸¸æ ˆé—®é¢˜è¿½è¸ª","uid":"f3f0b4e51e77515a8031a4140316d20f","slug":"JAVA/NullPointerException æ²¡æœ‰æ‰“å°å¼‚å¸¸æ ˆé—®é¢˜è¿½è¸ª","date":"2024-01-31T16:27:01.000Z","updated":"2025-12-05T01:46:26.401Z","comments":true,"path":"api/articles/JAVA/NullPointerException æ²¡æœ‰æ‰“å°å¼‚å¸¸æ ˆé—®é¢˜è¿½è¸ª.json","keywords":"XuGuangSheng","cover":"/covers/nullpointerexception.jpg","text":"NullPointerException æ²¡æœ‰æ‰“å°å¼‚å¸¸æ ˆé—®é¢˜è¿½è¸ªä»Šå¤©å»æœåŠ¡å™¨åå°çœ‹æ—¥å¿—ï¼Œå‘ç°æœ‰å¾ˆå¤šNullPointerExceptionå¼‚å¸¸ã€‚æˆ‘ä¸‹æ„è¯†çš„å»æ‰¾å¼‚...","permalink":"/post/JAVA/NullPointerException æ²¡æœ‰æ‰“å°å¼‚å¸¸æ ˆé—®é¢˜è¿½è¸ª","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[{"name":"JVM","slug":"JVM","count":1,"path":"api/categories/JVM.json"},{"name":"JAVA","slug":"JVM/JAVA","count":1,"path":"api/categories/JVM/JAVA.json"}],"tags":[{"name":"https","slug":"https","count":44,"path":"api/tags/https.json"},{"name":"www","slug":"www","count":8,"path":"api/tags/www.json"},{"name":"NullPointerException","slug":"NullPointerException","count":1,"path":"api/tags/NullPointerException.json"}],"author":{"name":"dandeliono","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/29496357","link":"/","description":"æ°¸è¿œç›¸ä¿¡ç¾å¥½çš„äº‹æƒ…å³å°†å‘ç”Ÿ","socials":{"github":"https://github.com/dandeliono","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}