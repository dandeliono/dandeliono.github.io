{"title":"Zookeeper开源客户端ZKClient和Curator简介","uid":"83a96f58bfaa8c716d7a61d4a063cd85","slug":"JAVA/Zookeeper开源客户端ZKClient和Curator简介","date":"2022-01-20T22:39:09.000Z","updated":"2025-09-30T03:26:22.386Z","comments":true,"path":"api/articles/JAVA/Zookeeper开源客户端ZKClient和Curator简介.json","keywords":"XuGuangSheng","cover":"/covers/zookeeperzkclientcurator.jpg","content":"<h1 id=\"Zookeeper开源客户端ZKClient和Curator简介\"><a href=\"#Zookeeper开源客户端ZKClient和Curator简介\" class=\"headerlink\" title=\"Zookeeper开源客户端ZKClient和Curator简介\"></a>Zookeeper开源客户端ZKClient和Curator简介</h1><p>Zookeeper 客户端提供了基本的操作，比如，创建会话、创建节点、读取节点、更新数据、删除节点和检查节点是否存在等。但对于开发人员来说，Zookeeper 提供的基本操纵还是有一些不足之处。</p>\n<h2 id=\"Zookeeper-API-不足之处\"><a href=\"#Zookeeper-API-不足之处\" class=\"headerlink\" title=\"Zookeeper API 不足之处\"></a>Zookeeper API 不足之处</h2><ol>\n<li>Zookeeper 的 Watcher 是一次性的，每次触发之后都需要重新进行注册； </li>\n<li>Session 超时之后没有实现重连机制； </li>\n<li>异常处理繁琐，Zookeeper 提供了很多异常，对于开发人员来说可能根本不知道该如何处理这些异常信息；</li>\n<li>只提供了简单的 byte[]数组的接口，没有提供针对对象级别的序列化； </li>\n<li>创建节点时如果节点存在抛出异常，需要自行检查节点是否存在； </li>\n<li>删除节点无法实现级联删除；</li>\n</ol>\n<h2 id=\"ZkClient-简介\"><a href=\"#ZkClient-简介\" class=\"headerlink\" title=\"ZkClient 简介\"></a>ZkClient 简介</h2><p>ZkClient 是一个开源客户端，在 Zookeeper 原生 API 接口的基础上进行了包装，更便于开发人员使用。内部实现了 Session 超时重连，Watcher 反复注册等功能。像 dubbo 等框架对其也进行了集成使用。</p>\n<p>虽然 ZkClient 对原生 API 进行了封装，但也有它自身的不足之处：</p>\n<ul>\n<li>几乎没有参考文档；</li>\n<li>异常处理简化（抛出 RuntimeException）；</li>\n<li>重试机制比较难用；</li>\n<li>没有提供各种使用场景的实现；</li>\n</ul>\n<h2 id=\"Curator-简介\"><a href=\"#Curator-简介\" class=\"headerlink\" title=\"Curator 简介\"></a>Curator 简介</h2><p>Curator 是 Netflix 公司开源的一套 Zookeeper 客户端框架，和 ZkClient 一样，解决了非常底层的细节开发工作，包括连接重连、反复注册 Watcher 和 NodeExistsException 异常等。目前已经成为 Apache 的顶级项目。另外还提供了一套易用性和可读性更强的 Fluent 风格的客户端 API 框架。</p>\n<p>除此之外，Curator 中还提供了 Zookeeper 各种应用场景（Recipe，如共享锁服务、Master 选举机制和分布式计算器等）的抽象封装。<br> <a href=\"https://cloud.tencent.com/developer/article/1015372?from=article.detail.1050407\">https://cloud.tencent.com/developer/article/1015372?from=article.detail.1050407</a></p>\n","text":"Zookeeper开源客户端ZKClient和Curator简介Zookeeper 客户端提供了基本的操作，比如，创建会话、创建节点、读取节点、更新数据、删除节...","permalink":"/post/JAVA/Zookeeper开源客户端ZKClient和Curator简介","photos":[],"count_time":{"symbolsCount":930,"symbolsTime":"1 mins."},"categories":[{"name":"Zookeeper","slug":"Zookeeper","count":2,"path":"api/categories/Zookeeper.json"},{"name":"JAVA","slug":"Zookeeper/JAVA","count":2,"path":"api/categories/Zookeeper/JAVA.json"}],"tags":[{"name":"Curator","slug":"Curator","count":2,"path":"api/tags/Curator.json"},{"name":"API","slug":"API","count":1,"path":"api/tags/API.json"},{"name":"ZkClient","slug":"ZkClient","count":1,"path":"api/tags/ZkClient.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Zookeeper%E5%BC%80%E6%BA%90%E5%AE%A2%E6%88%B7%E7%AB%AFZKClient%E5%92%8CCurator%E7%AE%80%E4%BB%8B\"><span class=\"toc-text\">Zookeeper开源客户端ZKClient和Curator简介</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Zookeeper-API-%E4%B8%8D%E8%B6%B3%E4%B9%8B%E5%A4%84\"><span class=\"toc-text\">Zookeeper API 不足之处</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#ZkClient-%E7%AE%80%E4%BB%8B\"><span class=\"toc-text\">ZkClient 简介</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Curator-%E7%AE%80%E4%BB%8B\"><span class=\"toc-text\">Curator 简介</span></a></li></ol></li></ol>","author":{"name":"dandeliono","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/29496357","link":"/","description":"永远相信美好的事情即将发生","socials":{"github":"https://github.com/dandeliono","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"shell 语言","uid":"443ea60f9d53e9e33f4d61c5af59c5dc","slug":"LINUX/shell 语言","date":"2022-01-26T18:01:10.000Z","updated":"2025-09-30T03:26:37.714Z","comments":true,"path":"api/articles/LINUX/shell 语言.json","keywords":"XuGuangSheng","cover":"/covers/shell.jpg","text":"shell 语言 1. 简介 1.1. 什么是 shell 1.2. 什么是 shell 脚本 1.3. Shell 环境 1.4. 模式 2. 基本语法 2....","permalink":"/post/LINUX/shell 语言","photos":[],"count_time":{"symbolsCount":"26k","symbolsTime":"23 mins."},"categories":[{"name":"shell","slug":"shell","count":2,"path":"api/categories/shell.json"},{"name":"LINUX","slug":"shell/LINUX","count":2,"path":"api/categories/shell/LINUX.json"}],"tags":[{"name":"https","slug":"https","count":44,"path":"api/tags/https.json"},{"name":"demo","slug":"demo","count":1,"path":"api/tags/demo.json"},{"name":"true","slug":"true","count":2,"path":"api/tags/true.json"}],"author":{"name":"dandeliono","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/29496357","link":"/","description":"永远相信美好的事情即将发生","socials":{"github":"https://github.com/dandeliono","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"[Elasticsearch] 向已存在的索引中添加自定义filter analyzer","uid":"2781e4b82126a200e2952c3286dd1c9d","slug":"MIDDLEWARE/[Elasticsearch] 向已存在的索引中添加自定义filter analyzer","date":"2021-12-02T15:03:01.000Z","updated":"2025-09-30T03:26:51.738Z","comments":true,"path":"api/articles/MIDDLEWARE/[Elasticsearch] 向已存在的索引中添加自定义filter analyzer.json","keywords":"XuGuangSheng","cover":"/covers/elasticsearch-filter-analyzer.jpg","text":"[Elasticsearch] 向已存在的索引中添加自定义filter/analyzer问题描述随着应用的不断升级，索引中的类型也会越来越多，新增加的类型中势必...","permalink":"/post/MIDDLEWARE/[Elasticsearch] 向已存在的索引中添加自定义filter analyzer","photos":[],"count_time":{"symbolsCount":"1.8k","symbolsTime":"2 mins."},"categories":[{"name":"symbol","slug":"symbol","count":1,"path":"api/categories/symbol.json"},{"name":"MIDDLEWARE","slug":"symbol/MIDDLEWARE","count":1,"path":"api/categories/symbol/MIDDLEWARE.json"}],"tags":[{"name":"settings","slug":"settings","count":1,"path":"api/tags/settings.json"},{"name":"filter","slug":"filter","count":1,"path":"api/tags/filter.json"},{"name":"POST","slug":"POST","count":1,"path":"api/tags/POST.json"}],"author":{"name":"dandeliono","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/29496357","link":"/","description":"永远相信美好的事情即将发生","socials":{"github":"https://github.com/dandeliono","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}