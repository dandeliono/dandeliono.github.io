{"title":"BAT 批处理 基础语法 教程","uid":"1545a0366a689b58c66fbe8604cabd3f","slug":"LINUX/BAT 批处理 基础语法 教程","date":"2022-10-13T13:55:12.000Z","updated":"2025-09-30T03:26:31.008Z","comments":true,"path":"api/articles/LINUX/BAT 批处理 基础语法 教程.json","keywords":"XuGuangSheng","cover":"/covers/bat.jpg","content":"<h1 id=\"BAT-批处理-基础语法-教程\"><a href=\"#BAT-批处理-基础语法-教程\" class=\"headerlink\" title=\"BAT 批处理 基础语法 教程\"></a>BAT 批处理 基础语法 教程</h1><h2 id=\"特点\"><a href=\"#特点\" class=\"headerlink\" title=\"特点\"></a>特点</h2><ul>\n<li>批处理脚本存储在<code>文本文件</code>中，其中包含的命令按<code>顺序</code>依次执行，其功能是为了<code>自动执行重复的命令序列</code></li>\n<li>批处理文件具有特殊的扩展名<code>BAT或CMD</code>，可以通过双击、或在命令提示符(<code>cmd.exe</code>)或在<code>开始 - 运行</code>行中运行</li>\n<li>批处理文件通过称为<code>命令解释器</code>的系统文件提供的接口(<code>shell</code>)来识别和执行，在Windows系统上是<code>cmd.exe</code></li>\n<li>批处理文件可以读取用户的输入，有if、for等控制结构，支持函数、数组等高级功能，支持正则表达式，<code>可以包含其他编程代码</code></li>\n</ul>\n<h2 id=\"编码问题\"><a href=\"#编码问题\" class=\"headerlink\" title=\"编码问题\"></a>编码问题</h2><p>在windows上，bat文件默认以<code>GBK</code>编码格式保存(很多开发语言、环境的默认编码为<code>UTF-8</code>格式)，如果文件中有中文或特殊符号，强烈建议以<code>GBK</code>编码格式保存，否则会因各种各样的问题导致乱码进而导致执行出错！</p>\n<p>如果不能修改文件编码格式，例如通过 for 等命令读写其他编码格式的文件，那需要使用<code>CHCP</code>修改编码格式。具体可用的编码参考 <a href=\"https://docs.microsoft.com/en-us/windows/win32/intl/code-page-identifiers\">Code Page Identifiers</a></p>\n<p>bash</p>\n<figure class=\"highlight asciidoc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@echo off &amp; CHCP 65001</span><br><span class=\"line\"><span class=\"meta\">:: 会在命令行中输出【Active code page:</span> 65001】的提示</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"注释\"><a href=\"#注释\" class=\"headerlink\" title=\"注释\"></a>注释</h2><p>注释有三种：</p>\n<ul>\n<li><code>Rem 注释内容</code>：Rem相当于命令，如果Rem的行数太多，可能会使代码变慢</li>\n<li><code>:: 注释内容</code>：建议采用这种方式的注释</li>\n<li><code>%注释内容%</code>：行内注释</li>\n</ul>\n<p>bash</p>\n<figure class=\"highlight dos\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"built_in\">echo</span> off</span><br><span class=\"line\"><span class=\"comment\">Rem Rem注释在未关闭命令回显时会在屏幕显示出来，而 :: 则什么情况下都不会显示</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> 注释方式三 <span class=\"variable\">%行内注释%</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"变量\"><a href=\"#变量\" class=\"headerlink\" title=\"变量\"></a>变量</h2><h3 id=\"命令行参数\"><a href=\"#命令行参数\" class=\"headerlink\" title=\"命令行参数\"></a>命令行参数</h3><p>可以在调用批处理文件时传递参数，<code>%n</code>(n为自然数)表示在调用批处理文件时传递的第n个参数：</p>\n<ul>\n<li><code>%0</code> 批处理文件本身，包括完整的路径和扩展名</li>\n<li><code>%1</code> 第一个参数</li>\n<li><code>%9</code> 第九个参数</li>\n<li><code>%*</code> 从第一个参数开始的所有参数</li>\n</ul>\n<p>参数<code>%0</code>具有特殊的功能，可以<code>调用批处理自身</code>，以达到批处理本身循环的目的，也可以<code>复制文件自身</code>等等。</p>\n<p>bash</p>\n<figure class=\"highlight dos\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"built_in\">echo</span> off</span><br><span class=\"line\"><span class=\"built_in\">echo</span> 第一个参数为：%<span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"built_in\">copy</span> %<span class=\"number\">0</span> d:\\\\new\\_file.bat <span class=\"variable\">%最简单的复制文件自身的方法%</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"set命令\"><a href=\"#set命令\" class=\"headerlink\" title=\"set命令\"></a>set命令</h3><p>bash</p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">set</span> \\[/A\\] <span class=\"attribute\">varName</span>=value</span><br><span class=\"line\">:: 仅当该值是数值类型时，才可以使用【/A】，才能正确的进行数值计算，否则会被当做字符串进行计算</span><br><span class=\"line\">:: 使用变量的时候，变量需要包含在％符号中，如【%varName%】</span><br></pre></td></tr></table></figure>\n\n<p>bash</p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">set</span> <span class=\"attribute\">message</span>=Hello World</span><br><span class=\"line\">echo %message%</span><br><span class=\"line\"><span class=\"built_in\">SET</span> /A <span class=\"attribute\">a</span>=5</span><br><span class=\"line\"><span class=\"built_in\">SET</span> /A <span class=\"attribute\">b</span>=10</span><br><span class=\"line\"><span class=\"built_in\">SET</span> /A <span class=\"attribute\">c</span>=%a% + %b%</span><br><span class=\"line\">echo %c%</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"局部与全局变量\"><a href=\"#局部与全局变量\" class=\"headerlink\" title=\"局部与全局变量\"></a>局部与全局变量</h3><p>bash</p>\n<figure class=\"highlight dos\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">set</span> globalvar=默认情况下都是全局变量</span><br><span class=\"line\"><span class=\"built_in\">SETLOCAL</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> var=<span class=\"built_in\">SETLOCAL</span>后定义的变量只在<span class=\"built_in\">ENDLOCAL</span>之前有效</span><br><span class=\"line\"><span class=\"built_in\">set</span> globalvar=<span class=\"built_in\">SETLOCAL</span>后重新赋的值也只在<span class=\"built_in\">ENDLOCAL</span>之前有效</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">%var%</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">%globalvar%</span></span><br><span class=\"line\"><span class=\"built_in\">ENDLOCAL</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">%var%</span> %会打印：【<span class=\"built_in\">ECHO</span> 处于关闭状态。】%</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">%globalvar%</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"环境变量\"><a href=\"#环境变量\" class=\"headerlink\" title=\"环境变量\"></a>环境变量</h3><p>bash</p>\n<figure class=\"highlight dos\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">%JAVA\\_HOME%</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"判断变量是否定义\"><a href=\"#判断变量是否定义\" class=\"headerlink\" title=\"判断变量是否定义\"></a>判断变量是否定义</h3><p>bash</p>\n<figure class=\"highlight dos\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">SET</span> /A a=<span class=\"number\">5</span></span><br><span class=\"line\"><span class=\"built_in\">SET</span> str=包青天</span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"keyword\">defined</span> a <span class=\"built_in\">echo</span> 【变量a存在】</span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"keyword\">not</span> <span class=\"keyword\">defined</span> b <span class=\"built_in\">echo</span> 【变量b不存在】</span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"keyword\">not</span> \\[%<span class=\"number\">1</span>\\]==\\[\\] <span class=\"built_in\">echo</span> 【参数存在：%<span class=\"number\">1</span>】</span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"keyword\">exist</span> %<span class=\"number\">1</span> <span class=\"built_in\">echo</span> 【文件 %<span class=\"number\">1</span> 存在】</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"字符串\"><a href=\"#字符串\" class=\"headerlink\" title=\"字符串\"></a>字符串</h2><h3 id=\"基本操作\"><a href=\"#基本操作\" class=\"headerlink\" title=\"基本操作\"></a>基本操作</h3><p>bash</p>\n<figure class=\"highlight dos\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">set</span> message=字符串</span><br><span class=\"line\"><span class=\"built_in\">echo</span> 【<span class=\"variable\">%message%</span>】</span><br><span class=\"line\"><span class=\"built_in\">set</span> var=<span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> /A var=<span class=\"variable\">%var%</span> + <span class=\"variable\">%var%</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> 定义为字符串变量后，还可以使用【/A】开关转换为整数：<span class=\"variable\">%var%</span></span><br><span class=\"line\">:: 上面打印内容为【<span class=\"number\">6</span>】，如果不加【/A】，那么打印结果为【<span class=\"number\">3</span> + <span class=\"number\">3</span>】</span><br><span class=\"line\">:: 判断字符串是否相等</span><br><span class=\"line\"><span class=\"keyword\">if</span> \\[<span class=\"variable\">%message%</span>\\]==\\[字符串\\] <span class=\"built_in\">echo</span> 方式一</span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"variable\">%message%</span>==字符串 <span class=\"built_in\">echo</span> 方式二</span><br><span class=\"line\">:: 创建一个空字符串</span><br><span class=\"line\"><span class=\"built_in\">Set</span> a=</span><br><span class=\"line\"><span class=\"keyword\">if</span> \\[<span class=\"variable\">%a%</span>\\]==\\[\\] <span class=\"built_in\">echo</span> 检查是否为空字符串</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"字符串截取\"><a href=\"#字符串截取\" class=\"headerlink\" title=\"字符串截取\"></a>字符串截取</h3><p>其实和其他语言的规则是一致的，截取的标准格式为：</p>\n<p>bash</p>\n<figure class=\"highlight asciidoc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">%var:~num\\_chars\\_to\\_skip%</span><br><span class=\"line\">%var:~num\\_chars\\_to\\_skip,num\\_chars\\_to\\_keep%</span><br><span class=\"line\">即【%var:~fromIndex,length%】</span><br></pre></td></tr></table></figure>\n\n<p>bash</p>\n<figure class=\"highlight mel\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SET a=abcd</span><br><span class=\"line\">echo 【%a:~<span class=\"number\">0</span>%】【%a:~<span class=\"number\">1</span>%】【%a:~<span class=\"number\">2</span>%】【%a:~<span class=\"number\">3</span>%】【%a:~<span class=\"number\">4</span>%】</span><br><span class=\"line\">:: 【abcd】【bcd】【cd】【d】【】</span><br><span class=\"line\">echo 【%a:~<span class=\"number\">-4</span>%】【%a:~<span class=\"number\">-3</span>%】【%a:~<span class=\"number\">-2</span>%】【%a:~<span class=\"number\">-1</span>%】</span><br><span class=\"line\">:: 【abcd】【bcd】【cd】【d】-n和<span class=\"number\">4</span>-n的效果是一样的</span><br><span class=\"line\">echo 【%a:~<span class=\"number\">0</span>,<span class=\"number\">0</span>%】【%a:~<span class=\"number\">0</span>,<span class=\"number\">1</span>%】【%a:~<span class=\"number\">0</span>,<span class=\"number\">2</span>%】【%a:~<span class=\"number\">0</span>,<span class=\"number\">3</span>%】【%a:~<span class=\"number\">0</span>,<span class=\"number\">4</span>%】</span><br><span class=\"line\">:: 【】【a】【ab】【abc】【abcd】</span><br><span class=\"line\">echo 【%a:~<span class=\"number\">0</span>,<span class=\"number\">-4</span>%】【%a:~<span class=\"number\">0</span>,<span class=\"number\">-3</span>%】【%a:~<span class=\"number\">0</span>,<span class=\"number\">-2</span>%】【%a:~<span class=\"number\">0</span>,<span class=\"number\">-1</span>%】</span><br><span class=\"line\">:: 【】【a】【ab】【abc】【abcd】</span><br><span class=\"line\">echo 【%a:~<span class=\"number\">1</span>,<span class=\"number\">1</span>%】【%a:~<span class=\"number\">1</span>,<span class=\"number\">2</span>%】【%a:~<span class=\"number\">2</span>,<span class=\"number\">1</span>%】【%a:~<span class=\"number\">3</span>,<span class=\"number\">1</span>%】【%a:~<span class=\"number\">3</span>,<span class=\"number\">2</span>%】</span><br><span class=\"line\">:: 【b】【bc】【c】【d】【d】</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"替换子字符串\"><a href=\"#替换子字符串\" class=\"headerlink\" title=\"替换子字符串\"></a>替换子字符串</h3><p>bash</p>\n<figure class=\"highlight axapta\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">%<span class=\"built_in\">str</span>:<span class=\"keyword\">new</span>=old%</span><br></pre></td></tr></table></figure>\n\n<p>bash</p>\n<figure class=\"highlight haxe\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">set</span> str=包青天 白  乾涛 包青天</span><br><span class=\"line\">echo 【%str:<span class=\"type\"></span>包青=老%】【%str: <span class=\"type\"></span>=\\<span class=\"literal\">_</span>%】</span><br><span class=\"line\">:<span class=\"type\"></span>: 【老天 白  乾涛 老天】【包青天\\<span class=\"literal\">_</span>白\\<span class=\"literal\">_</span>\\<span class=\"literal\">_</span>乾涛\\<span class=\"literal\">_</span>包青天】</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"删除子字符串\"><a href=\"#删除子字符串\" class=\"headerlink\" title=\"删除子字符串\"></a>删除子字符串</h3><p>bash</p>\n<figure class=\"highlight gcode\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">%</span>str:subStr=<span class=\"meta\">%</span></span><br><span class=\"line\">:: 可以认为是一种特殊的替换：将指定字符替换为空</span><br></pre></td></tr></table></figure>\n\n<p>bash</p>\n<figure class=\"highlight sqf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">set</span> <span class=\"built_in\">str</span>=包青天 白  乾涛 包青天</span><br><span class=\"line\"><span class=\"built_in\">echo</span> 【%<span class=\"built_in\">str</span>:包青=%】【%<span class=\"built_in\">str</span>: =%】</span><br><span class=\"line\">:: 【天 白  乾涛 天】【包青天白乾涛包青天】</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"if-x2F-else-语句\"><a href=\"#if-x2F-else-语句\" class=\"headerlink\" title=\"if&#x2F;else 语句\"></a>if&#x2F;else 语句</h2><h3 id=\"基本语法\"><a href=\"#基本语法\" class=\"headerlink\" title=\"基本语法\"></a>基本语法</h3><ul>\n<li>只有 if 语句时，if 语句的小括号是可选的</li>\n<li>有 else 语句时，if 语句必须带小括号，而 else 语句的小括号是可选的</li>\n<li>if 条件不能加小括号，否则判断条件为 false</li>\n</ul>\n<p>bash</p>\n<figure class=\"highlight dos\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">SET</span> /A c=<span class=\"number\">5</span></span><br><span class=\"line\"><span class=\"built_in\">SET</span> str=包青天</span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"variable\">%c%</span>==<span class=\"number\">5</span> <span class=\"built_in\">echo</span> 只有 <span class=\"keyword\">if</span> 语句时，<span class=\"keyword\">if</span> 语句的小括号是可选的</span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"variable\">%str%</span>==包青天 (</span><br><span class=\"line\">    <span class=\"built_in\">echo</span> 如果换行的话必须加小括号，且左小括号不能换行--因为换行后就不是一条命令了，右括号不限制</span><br><span class=\"line\"><span class=\"comment\">    REM 注意：小括号内不能有 :: 格式的注释，可以有REM格式的注释(因为REM是命令)</span></span><br><span class=\"line\">)</span><br><span class=\"line\">:: 【==】既可以用来判断数值型，也可以用来判断字符串</span><br><span class=\"line\"><span class=\"keyword\">if</span> \\[%<span class=\"number\">1</span>\\]==\\[\\] (<span class=\"built_in\">echo</span> 呵呵) <span class=\"keyword\">else</span> <span class=\"built_in\">echo</span> 有 <span class=\"keyword\">else</span> 语句时，<span class=\"keyword\">if</span> 语句必须带小括号，而 <span class=\"keyword\">else</span> 语句小括号可选</span><br><span class=\"line\"><span class=\"keyword\">if</span> (\\[%<span class=\"number\">1</span>\\]==\\[\\]) (<span class=\"built_in\">echo</span> 呵呵) <span class=\"keyword\">else</span> (<span class=\"built_in\">echo</span> <span class=\"keyword\">if</span> 条件不能加小括号，否则判断条件为 false)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"嵌套-if-语句\"><a href=\"#嵌套-if-语句\" class=\"headerlink\" title=\"嵌套 if 语句\"></a>嵌套 if 语句</h3><p>bash</p>\n<figure class=\"highlight livescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>(condition1) <span class=\"keyword\">if</span> (condition2) <span class=\"keyword\">do</span><span class=\"string\">\\_something</span></span><br><span class=\"line\">:: 只有当条件<span class=\"number\">1</span>和条件<span class=\"number\">2</span>都满足时，才会执行 <span class=\"keyword\">do</span><span class=\"string\">\\_something</span> 块中的代码</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"if-errorlevel\"><a href=\"#if-errorlevel\" class=\"headerlink\" title=\"if errorlevel\"></a>if errorlevel</h3><p>环境变量 errorlevel 的初始值为<code>0</code>，当一些命令执行不成功，就会返回一个数值，如：1 ，2 等。</p>\n<p>注意：IF ERRORLEVEL 是用来测试它的<code>上一个DOS命令</code>的返回值的，注意只是上一个命令的返回值，而且返回值必须依照从大到小次序顺序判断。</p>\n<p>bash</p>\n<figure class=\"highlight autohotkey\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if <span class=\"built_in\">ERRORLEVEL</span> nubmer commend</span><br></pre></td></tr></table></figure>\n\n<p>bash</p>\n<figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">copy</span> %<span class=\"number\">0</span> <span class=\"keyword\">new</span>\\_file.bat</span><br><span class=\"line\"><span class=\"keyword\">if</span> errorlevel <span class=\"number\">0</span> <span class=\"keyword\">echo</span> 命令成功完成</span><br><span class=\"line\"><span class=\"keyword\">copy</span> %<span class=\"number\">0</span> <span class=\"keyword\">new</span>/<span class=\"keyword\">file</span>.bat</span><br><span class=\"line\"><span class=\"keyword\">if</span> errorlevel <span class=\"number\">1</span> <span class=\"keyword\">echo</span> 命令失败</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"goto-语句\"><a href=\"#goto-语句\" class=\"headerlink\" title=\"goto 语句\"></a>goto 语句</h2><p>bash</p>\n<figure class=\"highlight dos\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"built_in\">echo</span> off &amp; <span class=\"built_in\">setlocal</span> enabledelayedexpansion</span><br><span class=\"line\"><span class=\"built_in\">SET</span> /A a=<span class=\"number\">0</span></span><br><span class=\"line\">:add</span><br><span class=\"line\"><span class=\"built_in\">set</span> /A a+=<span class=\"number\">1</span> &amp; <span class=\"built_in\">echo</span> <span class=\"built_in\">echo</span> a当前的值为：<span class=\"variable\">%a%</span>，a+<span class=\"number\">1</span>后的值为：<span class=\"variable\">!a!</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"variable\">%a%</span> <span class=\"keyword\">LSS</span> <span class=\"number\">3</span> (</span><br><span class=\"line\">    <span class=\"keyword\">goto</span> :add</span><br><span class=\"line\">) <span class=\"keyword\">else</span> (</span><br><span class=\"line\">    <span class=\"keyword\">goto</span> :end</span><br><span class=\"line\">)</span><br><span class=\"line\">:end</span><br><span class=\"line\"><span class=\"built_in\">echo</span> 执行完毕，a的值为：<span class=\"variable\">!a!</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"运算符\"><a href=\"#运算符\" class=\"headerlink\" title=\"运算符\"></a>运算符</h2><h3 id=\"赋值运算符\"><a href=\"#赋值运算符\" class=\"headerlink\" title=\"赋值运算符\"></a>赋值运算符</h3><p>bash</p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">SET</span> /A <span class=\"attribute\">a</span>=3</span><br><span class=\"line\"><span class=\"built_in\">SET</span> /A a+=5</span><br><span class=\"line\">echo %a%</span><br><span class=\"line\">:: 其他类似的运算还有【<span class=\"attribute\">a-</span>=5】【a\\*=5】【a/=5】【a%=5】</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"算术运算符\"><a href=\"#算术运算符\" class=\"headerlink\" title=\"算术运算符\"></a>算术运算符</h3><p>bash</p>\n<figure class=\"highlight gcode\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SET /A a=<span class=\"number\">5</span></span><br><span class=\"line\">SET /A b=<span class=\"number\">3</span></span><br><span class=\"line\">SET /A c=<span class=\"meta\">%</span>a<span class=\"meta\">%</span>+<span class=\"meta\">%</span>b<span class=\"meta\">%</span></span><br><span class=\"line\">SET /A d=<span class=\"meta\">%</span>a<span class=\"meta\">%</span>-<span class=\"meta\">%</span>b<span class=\"meta\">%</span></span><br><span class=\"line\">SET /A e=<span class=\"meta\">%</span>b<span class=\"meta\">%</span>\\*<span class=\"meta\">%</span>a<span class=\"meta\">%</span></span><br><span class=\"line\">SET /A f=<span class=\"meta\">%</span>b<span class=\"meta\">%</span>/<span class=\"meta\">%</span>a<span class=\"meta\">%</span></span><br><span class=\"line\">SET /A g=<span class=\"meta\">%</span>a<span class=\"meta\">%</span>/<span class=\"meta\">%</span>b<span class=\"meta\">%</span></span><br><span class=\"line\">SET /A h=<span class=\"meta\">%</span>b<span class=\"meta\">%</span><span class=\"meta\">%</span><span class=\"meta\">%</span><span class=\"meta\">%</span>a<span class=\"meta\">%</span></span><br><span class=\"line\">SET /A i=<span class=\"meta\">%</span>a<span class=\"meta\">%</span><span class=\"meta\">%</span><span class=\"meta\">%</span><span class=\"meta\">%</span>b<span class=\"meta\">%</span></span><br><span class=\"line\">echo 【<span class=\"meta\">%</span>c<span class=\"meta\">%</span>】【<span class=\"meta\">%</span>d<span class=\"meta\">%</span>】【<span class=\"meta\">%</span>e<span class=\"meta\">%</span>】【<span class=\"meta\">%</span>f<span class=\"meta\">%</span>】【<span class=\"meta\">%</span>g<span class=\"meta\">%</span>】【<span class=\"meta\">%</span>h<span class=\"meta\">%</span>】【<span class=\"meta\">%</span>i<span class=\"meta\">%</span>】</span><br><span class=\"line\">:: 【<span class=\"number\">8</span>】【<span class=\"number\">2</span>】【<span class=\"number\">15</span>】【<span class=\"number\">0</span>】【<span class=\"number\">1</span>】【<span class=\"number\">3</span>】【<span class=\"number\">2</span>】</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"关系运算符\"><a href=\"#关系运算符\" class=\"headerlink\" title=\"关系运算符\"></a>关系运算符</h3><p>bash</p>\n<figure class=\"highlight dos\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">SET</span> /A a=<span class=\"number\">5</span></span><br><span class=\"line\"><span class=\"built_in\">SET</span> /A b=<span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"variable\">%a%</span> <span class=\"keyword\">EQU</span> <span class=\"variable\">%b%</span> <span class=\"built_in\">echo</span> 相等</span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"variable\">%a%</span> <span class=\"keyword\">NEQ</span> <span class=\"variable\">%b%</span> <span class=\"built_in\">echo</span> 不相等性</span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"variable\">%a%</span> <span class=\"keyword\">LSS</span> <span class=\"variable\">%b%</span> <span class=\"built_in\">echo</span> 左小于右</span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"variable\">%a%</span> <span class=\"keyword\">LEQ</span> <span class=\"variable\">%b%</span> <span class=\"built_in\">echo</span> 左小于等于右</span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"variable\">%a%</span> <span class=\"keyword\">GTR</span> <span class=\"variable\">%b%</span> <span class=\"built_in\">echo</span> 左大于右</span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"variable\">%a%</span> <span class=\"keyword\">GEQ</span> <span class=\"variable\">%b%</span> <span class=\"built_in\">echo</span> 左大于等于右</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"逻辑运算符\"><a href=\"#逻辑运算符\" class=\"headerlink\" title=\"逻辑运算符\"></a>逻辑运算符</h2><ul>\n<li>批处理语言配备了一整套布尔逻辑运算符，如<code>AND</code>，<code>OR</code>，<code>XOR</code>，但<strong>只适用于二进制数字</strong></li>\n<li>对于<code>TRUE</code>或<code>FALSE</code>也<strong>没有</strong>任何值</li>\n<li>可用于条件的唯一逻辑运算符是<code>NOT</code>运算符</li>\n<li>为非二进制数字实现<code>AND/OR</code>运算符的方法是使用嵌套的<code>IF</code>条件或<code>goto</code>语句</li>\n</ul>\n<h3 id=\"逻辑非\"><a href=\"#逻辑非\" class=\"headerlink\" title=\"逻辑非\"></a>逻辑非</h3><p>bash</p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">SET</span> /A <span class=\"attribute\">a</span>=5</span><br><span class=\"line\"><span class=\"keyword\">IF</span> <span class=\"keyword\">NOT</span> %a%==6 echo 逻辑非运算符<span class=\"keyword\">NOT</span>的使用</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"逻辑与\"><a href=\"#逻辑与\" class=\"headerlink\" title=\"逻辑与\"></a>逻辑与</h3><p><strong>借助 if 语句实现</strong></p>\n<p>bash</p>\n<figure class=\"highlight dos\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">SET</span> /A a=<span class=\"number\">5</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"variable\">%a%</span> <span class=\"keyword\">LSS</span> <span class=\"number\">6</span> (</span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"variable\">%a%</span> <span class=\"keyword\">GTR</span> <span class=\"number\">4</span> (</span><br><span class=\"line\">        <span class=\"built_in\">echo</span> 嵌套<span class=\"keyword\">if</span>实现and的功能</span><br><span class=\"line\">    )</span><br><span class=\"line\">)</span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"variable\">%a%</span> <span class=\"keyword\">LSS</span> <span class=\"number\">6</span> <span class=\"keyword\">if</span> <span class=\"variable\">%a%</span> <span class=\"keyword\">GTR</span> <span class=\"number\">4</span> <span class=\"built_in\">echo</span> 嵌套<span class=\"keyword\">if</span>实现and的功能</span><br></pre></td></tr></table></figure>\n\n<p><strong>借助 goto 语句实现</strong></p>\n<p>bash</p>\n<figure class=\"highlight xquery\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SET /A a=<span class=\"number\">5</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"built_in\"> not</span> <span class=\"meta\">%a</span>% LSS <span class=\"number\">6</span> goto <span class=\"keyword\">end</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"built_in\"> not</span> <span class=\"meta\">%a</span>% GTR <span class=\"number\">4</span> goto <span class=\"keyword\">end</span></span><br><span class=\"line\">:: 为了保持和上面<span class=\"keyword\">if</span>的结构一致，上面是用了两<span class=\"built_in\">个not</span>，实际肯定是可以不<span class=\"built_in\">用not</span>的</span><br><span class=\"line\">goto <span class=\"keyword\">and</span>\\_<span class=\"keyword\">function</span></span><br><span class=\"line\">:<span class=\"keyword\">and</span>\\_<span class=\"keyword\">function</span></span><br><span class=\"line\">echo 嵌套<span class=\"keyword\">if</span>实现<span class=\"keyword\">and</span>的功能</span><br><span class=\"line\">:<span class=\"keyword\">end</span></span><br><span class=\"line\">echo <span class=\"keyword\">end</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"逻辑或\"><a href=\"#逻辑或\" class=\"headerlink\" title=\"逻辑或\"></a>逻辑或</h3><p><code>逻辑或</code>实现起来比<code>逻辑与</code>还要复杂一些，一般都需要借助 goto 语句来实现！</p>\n<p><strong>不借助 goto 语句实现的情况</strong></p>\n<p>这种方式只适合满足条件时要执行的命令比较少的场景，否则会有大量的冗余代码</p>\n<p>bash</p>\n<figure class=\"highlight dos\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">SET</span> /A a=<span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"keyword\">IF</span> <span class=\"variable\">%a%</span> <span class=\"keyword\">LSS</span> <span class=\"number\">4</span> (</span><br><span class=\"line\">    <span class=\"built_in\">echo</span> 如果满足条件一，则执行n条命令</span><br><span class=\"line\">) <span class=\"keyword\">else</span> <span class=\"keyword\">IF</span> <span class=\"variable\">%a%</span> <span class=\"keyword\">GTR</span> <span class=\"number\">6</span> (</span><br><span class=\"line\">    <span class=\"built_in\">echo</span> 否则，如果满足条件二，也会执行相同的n条命令</span><br><span class=\"line\">)</span><br><span class=\"line\"><span class=\"keyword\">IF</span> <span class=\"variable\">%a%</span> <span class=\"keyword\">LSS</span> <span class=\"number\">4</span> (<span class=\"built_in\">echo</span> 满足条件) <span class=\"keyword\">else</span> <span class=\"keyword\">IF</span> <span class=\"variable\">%a%</span> <span class=\"keyword\">GTR</span> <span class=\"number\">6</span> (<span class=\"built_in\">echo</span> 满足条件)</span><br></pre></td></tr></table></figure>\n\n<p><strong>借助 goto 语句实现</strong></p>\n<p>bash</p>\n<figure class=\"highlight dos\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">SET</span> /A a=<span class=\"number\">5</span></span><br><span class=\"line\"><span class=\"keyword\">IF</span> <span class=\"variable\">%a%</span> <span class=\"keyword\">LSS</span> <span class=\"number\">4</span> <span class=\"keyword\">goto</span> or\\_function</span><br><span class=\"line\"><span class=\"keyword\">IF</span> <span class=\"variable\">%a%</span> <span class=\"keyword\">GTR</span> <span class=\"number\">6</span> <span class=\"keyword\">goto</span> or\\_function</span><br><span class=\"line\"><span class=\"keyword\">goto</span> end</span><br><span class=\"line\">:or\\_function</span><br><span class=\"line\"><span class=\"built_in\">echo</span> 嵌套<span class=\"keyword\">if</span>实现or的功能</span><br><span class=\"line\">:end</span><br><span class=\"line\"><span class=\"built_in\">echo</span> end</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"数组\"><a href=\"#数组\" class=\"headerlink\" title=\"数组\"></a>数组</h2><p>数组类型并没有明确定义为批处理脚本中的类型，但可以模拟出来，但是有些功能使用起来会有诸多限制。</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>白哥说：其实批处理脚本中的数组就是多个名称类似的<code>变量</code>，其本身没有任何特性或语法，只不过因为这些变量的格式比较像C、Java中的数组，而数组又是那么深入人心，所以我们将其当做数组来看待了而已。</p></blockquote>\n<h3 id=\"数组元素\"><a href=\"#数组元素\" class=\"headerlink\" title=\"数组元素\"></a>数组元素</h3><p>其实就是一系列相互之间没任何关系的变量！</p>\n<p>bash</p>\n<figure class=\"highlight dos\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">set</span> a\\[<span class=\"number\">0</span>\\]=<span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> a\\[<span class=\"number\">1</span>\\]=<span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> a\\[<span class=\"number\">1</span>\\]=<span class=\"number\">11</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> a\\[<span class=\"number\">3</span>\\]=<span class=\"number\">14</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> 【<span class=\"variable\">%a\\[0\\]%</span>】【<span class=\"variable\">%a\\[1\\]%</span>】【<span class=\"variable\">%a\\[2\\]%</span>】【<span class=\"variable\">%a\\[3\\]%</span>】【<span class=\"variable\">%a\\[4\\]%</span>】</span><br><span class=\"line\">:: 【<span class=\"number\">10</span>】【<span class=\"number\">11</span>】【值不确定】【<span class=\"number\">14</span>】【值不确定】</span><br><span class=\"line\">:: 数组中的每个元素都需要使用<span class=\"built_in\">set</span>命令专门定义</span><br><span class=\"line\">:: 注意，未定义的元素的值是无法确定的，并不一定是没有值(虽然大部分情况都是没有<span class=\"keyword\">defined</span>、也没有值的)！</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"数组元素下标为变量\"><a href=\"#数组元素下标为变量\" class=\"headerlink\" title=\"数组元素下标为变量\"></a>数组元素下标为变量</h3><p>数组元素下标为变量时，可以认为是：一个变量的名称取决于另一个变量！</p>\n<p>bash</p>\n<figure class=\"highlight dos\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">set</span> a\\[<span class=\"number\">0</span>\\]=<span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> /a k=<span class=\"number\">0</span></span><br><span class=\"line\">:: 以下<span class=\"number\">3</span>种方式均可正确访问 a\\[k\\]</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">%k%</span>-<span class=\"variable\">%a\\[0\\]%</span></span><br><span class=\"line\"><span class=\"keyword\">call</span> <span class=\"built_in\">echo</span> <span class=\"variable\">%k%</span>-<span class=\"variable\">%%a</span>\\[<span class=\"variable\">%k%</span>\\]<span class=\"variable\">%%</span></span><br><span class=\"line\"><span class=\"variable\"></span><span class=\"built_in\">setlocal</span> enabledelayedexpansion &amp; <span class=\"built_in\">echo</span> <span class=\"variable\">%k%</span>-<span class=\"variable\">!a\\[%k%\\]!</span></span><br><span class=\"line\">:: 因为a\\[<span class=\"variable\">%k%</span>\\]之前并没有定义(仅仅是定义了a\\[<span class=\"number\">0</span>\\])，所以必须\\`设置本地为延迟扩展\\`才能正常访问，且访问时必须使用!代替%</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"数组的长度\"><a href=\"#数组的长度\" class=\"headerlink\" title=\"数组的长度\"></a>数组的长度</h3><p>没有直接的函数来确定数组中元素的数量，只能通过遍历数组中的值列表<code>手动计算</code>。</p>\n<p>bash</p>\n<figure class=\"highlight dos\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">set</span> d\\[<span class=\"number\">0</span>\\]=<span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> d\\[<span class=\"number\">1</span>\\]=<span class=\"number\">11</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> x=<span class=\"number\">0</span></span><br><span class=\"line\">:getArrayLength</span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"keyword\">defined</span> d\\[<span class=\"variable\">%x%</span>\\] (</span><br><span class=\"line\">   <span class=\"keyword\">call</span> <span class=\"built_in\">echo</span> <span class=\"variable\">%x%</span>-<span class=\"variable\">%%d</span>\\[<span class=\"variable\">%x%</span>\\]<span class=\"variable\">%%</span></span><br><span class=\"line\"><span class=\"variable\"></span>   <span class=\"built_in\">set</span> /a x+=<span class=\"number\">1</span></span><br><span class=\"line\">   <span class=\"keyword\">goto</span> :getArrayLength</span><br><span class=\"line\">)</span><br><span class=\"line\"><span class=\"built_in\">echo</span> 数组长度为 <span class=\"variable\">%x%</span></span><br><span class=\"line\">:: 注意，如果数组元素定义时不连续，这种方法计算出来的值可能就是错误的，核心在于上面的【<span class=\"keyword\">defined</span>】表达式</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"在数组中创建结构\"><a href=\"#在数组中创建结构\" class=\"headerlink\" title=\"在数组中创建结构\"></a>在数组中创建结构</h3><p>bash</p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">set</span> obj\\[0\\].<span class=\"attribute\">Name</span>=包青天</span><br><span class=\"line\"><span class=\"built_in\">set</span> obj\\[0\\].<span class=\"attribute\">ID</span>=66</span><br><span class=\"line\"><span class=\"built_in\">set</span> cur.<span class=\"attribute\">Name</span>=%obj\\[0\\].Name%</span><br><span class=\"line\">echo 【%obj\\[0\\]%】【%obj\\[0\\].Name%】【%cur.Name%】【%cur.ID%】</span><br><span class=\"line\">:: 【】【包青天】【包青天】【11】 cur.ID的值没有定义，所以打印结果是不确定的</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"函数\"><a href=\"#函数\" class=\"headerlink\" title=\"函数\"></a>函数</h2><h3 id=\"函数定义\"><a href=\"#函数定义\" class=\"headerlink\" title=\"函数定义\"></a>函数定义</h3><p>定义函数的格式</p>\n<p>bash</p>\n<figure class=\"highlight sqf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">:function\\<span class=\"variable\">_name</span> </span><br><span class=\"line\"><span class=\"keyword\">Do</span>\\<span class=\"variable\">_something</span> </span><br><span class=\"line\"><span class=\"keyword\">EXIT</span> /B <span class=\"number\">0</span></span><br><span class=\"line\">:: <span class=\"keyword\">EXIT</span>语句用于确保函数正常退出</span><br></pre></td></tr></table></figure>\n\n<p>调用函数的格式</p>\n<p>bash</p>\n<figure class=\"highlight dos\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">Call</span> :function\\_name parameter1, parameter2… parametern</span><br><span class=\"line\">:: 需要确保在主程序中放入【<span class=\"keyword\">EXIT</span> /B <span class=\"variable\">%ERRORLEVEL%</span>】语句，以便将主程序的代码与函数分开</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"函数的基本用法\"><a href=\"#函数的基本用法\" class=\"headerlink\" title=\"函数的基本用法\"></a>函数的基本用法</h3><p>可以通过使用<code>%~n</code>(n代表参数的位置)，来在函数内部访问参数</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>亲测，完全可以省略掉其中的<code>~</code>符号</p></blockquote>\n<p>bash</p>\n<figure class=\"highlight dos\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">set</span> p=包青天</span><br><span class=\"line\"><span class=\"keyword\">CALL</span> :function\\_1</span><br><span class=\"line\"><span class=\"keyword\">CALL</span> :function\\_2 a p <span class=\"variable\">%p%</span></span><br><span class=\"line\"><span class=\"keyword\">EXIT</span> /B <span class=\"variable\">%ERRORLEVEL%</span></span><br><span class=\"line\">:function\\_1</span><br><span class=\"line\"><span class=\"built_in\">echo</span> 调用了【%<span class=\"number\">0</span>】函数</span><br><span class=\"line\"><span class=\"keyword\">EXIT</span> /B <span class=\"number\">0</span></span><br><span class=\"line\">:function\\_2</span><br><span class=\"line\"><span class=\"built_in\">echo</span> 调用了【<span class=\"variable\">%0】函数，参数为【%</span>~<span class=\"number\">1</span>】【<span class=\"variable\">%2】【%</span><span class=\"number\">3</span>】，所有参数为【%\\*】</span><br><span class=\"line\"><span class=\"keyword\">EXIT</span> /B <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"函数的返回值\"><a href=\"#函数的返回值\" class=\"headerlink\" title=\"函数的返回值\"></a>函数的返回值</h3><p>函数可以通过简单地<code>传递变量名称</code>来处理返回值，这些变量名称将在调用该函数时保存返回值</p>\n<p>bash</p>\n<figure class=\"highlight dos\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CALL</span> :function\\_3 c &amp; <span class=\"built_in\">echo</span> 一行代码时必须使用延迟变量【<span class=\"variable\">!c!</span>】【<span class=\"variable\">%c%</span>】</span><br><span class=\"line\"><span class=\"keyword\">CALL</span> :function\\_3 d</span><br><span class=\"line\"><span class=\"built_in\">echo</span> 不是一行代码时两种方式都可以【<span class=\"variable\">!d!</span>】【<span class=\"variable\">%d%</span>】</span><br><span class=\"line\"><span class=\"built_in\">set</span> p=包青天</span><br><span class=\"line\"><span class=\"keyword\">CALL</span> :function\\_3 <span class=\"variable\">%p%</span> &amp; <span class=\"built_in\">echo</span> 在函数中修改变量的值时，参数不是传入变量的引用【<span class=\"variable\">!p!</span>】【<span class=\"variable\">%p%</span>】</span><br><span class=\"line\"><span class=\"keyword\">CALL</span> :function\\_3 p &amp; <span class=\"built_in\">echo</span> 而是传入变量的名称【<span class=\"variable\">!p!</span>】【<span class=\"variable\">%p%</span>】</span><br><span class=\"line\"><span class=\"keyword\">EXIT</span> /B <span class=\"variable\">%ERRORLEVEL%</span></span><br><span class=\"line\">:function\\_3</span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"keyword\">NOT</span> \\[%<span class=\"number\">1</span>\\]==\\[\\] <span class=\"built_in\">set</span> %<span class=\"number\">1</span>=baiqiantao</span><br><span class=\"line\"><span class=\"keyword\">EXIT</span> /B <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n\n<p>参数作为输出参数时，此文件不要设置 <code>setlocal enabledelayedexpansion</code>，且函数内不要使用<code>SETLOCAL、ENDLOCAL</code></p>\n<h3 id=\"函数中的局部变量\"><a href=\"#函数中的局部变量\" class=\"headerlink\" title=\"函数中的局部变量\"></a>函数中的局部变量</h3><ul>\n<li>函数中的<code>局部变量</code>可以用来避免名称冲突，并<code>保持函数本地的变量变化</code></li>\n<li>调用<code>SETLOCAL</code>命令后可确保命令处理器对所有<code>环境变量</code>进行备份，并可在调用<code>ENDLOCAL</code>命令后恢复</li>\n<li>当到达批处理文件结束时，即通过调用<code>GOTO：EOF</code>，<code>ENDLOCAL</code>被自动调用</li>\n<li>使用<code>SETLOCAL</code>对变量进行本地化允许在函数中自由使用变量名称，而不必担心与函数外使用的变量名称冲突</li>\n<li>可以<code>递归</code>地调用一个函数，使用<code>SETLOCAL</code>可以确保每个级别的递归都<code>使用自己的一组变量</code>，即使变量名被重用</li>\n</ul>\n<p>bash</p>\n<figure class=\"highlight dos\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">set</span> x=Outer</span><br><span class=\"line\"><span class=\"built_in\">set</span> y=Outer</span><br><span class=\"line\"><span class=\"keyword\">CALL</span> :function\\_1 x y &amp; <span class=\"built_in\">echo</span> 【<span class=\"variable\">!x!</span>-<span class=\"variable\">!y!</span>】--【<span class=\"variable\">%x%</span>-<span class=\"variable\">%y%</span>】</span><br><span class=\"line\"><span class=\"keyword\">CALL</span> :function\\_2 x y &amp; <span class=\"built_in\">echo</span> 【<span class=\"variable\">!x!</span>-<span class=\"variable\">!y!</span>】--【<span class=\"variable\">%x%</span>-<span class=\"variable\">%y%</span>】</span><br><span class=\"line\"><span class=\"keyword\">EXIT</span> /B <span class=\"variable\">%ERRORLEVEL%</span></span><br><span class=\"line\">:function\\_1</span><br><span class=\"line\"><span class=\"built_in\">set</span> x=Inner1</span><br><span class=\"line\"><span class=\"built_in\">set</span> %<span class=\"number\">2</span>=Inner1</span><br><span class=\"line\">:: 当没有<span class=\"built_in\">SETLOCAL</span>时，以上两种<span class=\"built_in\">set</span>方式都能改变函数外的变量的值</span><br><span class=\"line\"><span class=\"keyword\">EXIT</span> /B <span class=\"number\">0</span></span><br><span class=\"line\">:function\\_2</span><br><span class=\"line\"><span class=\"built_in\">SETLOCAL</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> x=Inner2</span><br><span class=\"line\"><span class=\"built_in\">set</span> %<span class=\"number\">2</span>=Inner2</span><br><span class=\"line\">:: 当有<span class=\"built_in\">SETLOCAL</span>时，函数内部对变量的修改不影响函数外部的变量的值</span><br><span class=\"line\"><span class=\"built_in\">ENDLOCAL</span></span><br><span class=\"line\"><span class=\"keyword\">EXIT</span> /B <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n","text":"BAT 批处理 基础语法 教程特点 批处理脚本存储在文本文件中，其中包含的命令按顺序依次执行，其功能是为了自动执行重复的命令序列 批处理文件具有特殊的扩展名BA...","permalink":"/post/LINUX/BAT 批处理 基础语法 教程","photos":[],"count_time":{"symbolsCount":"7.7k","symbolsTime":"7 mins."},"categories":[{"name":"bash","slug":"bash","count":2,"path":"api/categories/bash.json"},{"name":"LINUX","slug":"bash/LINUX","count":2,"path":"api/categories/bash/LINUX.json"}],"tags":[{"name":"goto","slug":"goto","count":1,"path":"api/tags/goto.json"},{"name":"语句","slug":"语句","count":1,"path":"api/tags/语句.json"},{"name":"SETLOCAL","slug":"SETLOCAL","count":1,"path":"api/tags/SETLOCAL.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#BAT-%E6%89%B9%E5%A4%84%E7%90%86-%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-%E6%95%99%E7%A8%8B\"><span class=\"toc-text\">BAT 批处理 基础语法 教程</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%89%B9%E7%82%B9\"><span class=\"toc-text\">特点</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%BC%96%E7%A0%81%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">编码问题</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%B3%A8%E9%87%8A\"><span class=\"toc-text\">注释</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">变量</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0\"><span class=\"toc-text\">命令行参数</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#set%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">set命令</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%B1%80%E9%83%A8%E4%B8%8E%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">局部与全局变量</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">环境变量</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%A4%E6%96%AD%E5%8F%98%E9%87%8F%E6%98%AF%E5%90%A6%E5%AE%9A%E4%B9%89\"><span class=\"toc-text\">判断变量是否定义</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AD%97%E7%AC%A6%E4%B8%B2\"><span class=\"toc-text\">字符串</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">基本操作</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%88%AA%E5%8F%96\"><span class=\"toc-text\">字符串截取</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9B%BF%E6%8D%A2%E5%AD%90%E5%AD%97%E7%AC%A6%E4%B8%B2\"><span class=\"toc-text\">替换子字符串</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%A0%E9%99%A4%E5%AD%90%E5%AD%97%E7%AC%A6%E4%B8%B2\"><span class=\"toc-text\">删除子字符串</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#if-x2F-else-%E8%AF%AD%E5%8F%A5\"><span class=\"toc-text\">if&#x2F;else 语句</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95\"><span class=\"toc-text\">基本语法</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%B5%8C%E5%A5%97-if-%E8%AF%AD%E5%8F%A5\"><span class=\"toc-text\">嵌套 if 语句</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#if-errorlevel\"><span class=\"toc-text\">if errorlevel</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#goto-%E8%AF%AD%E5%8F%A5\"><span class=\"toc-text\">goto 语句</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%BF%90%E7%AE%97%E7%AC%A6\"><span class=\"toc-text\">运算符</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6\"><span class=\"toc-text\">赋值运算符</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6\"><span class=\"toc-text\">算术运算符</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6\"><span class=\"toc-text\">关系运算符</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6\"><span class=\"toc-text\">逻辑运算符</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%80%BB%E8%BE%91%E9%9D%9E\"><span class=\"toc-text\">逻辑非</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%80%BB%E8%BE%91%E4%B8%8E\"><span class=\"toc-text\">逻辑与</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%80%BB%E8%BE%91%E6%88%96\"><span class=\"toc-text\">逻辑或</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%95%B0%E7%BB%84\"><span class=\"toc-text\">数组</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0\"><span class=\"toc-text\">数组元素</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E4%B8%8B%E6%A0%87%E4%B8%BA%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">数组元素下标为变量</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%95%B0%E7%BB%84%E7%9A%84%E9%95%BF%E5%BA%A6\"><span class=\"toc-text\">数组的长度</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%9C%A8%E6%95%B0%E7%BB%84%E4%B8%AD%E5%88%9B%E5%BB%BA%E7%BB%93%E6%9E%84\"><span class=\"toc-text\">在数组中创建结构</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%87%BD%E6%95%B0\"><span class=\"toc-text\">函数</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89\"><span class=\"toc-text\">函数定义</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%87%BD%E6%95%B0%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95\"><span class=\"toc-text\">函数的基本用法</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%87%BD%E6%95%B0%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC\"><span class=\"toc-text\">函数的返回值</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%87%BD%E6%95%B0%E4%B8%AD%E7%9A%84%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">函数中的局部变量</span></a></li></ol></li></ol></li></ol>","author":{"name":"dandeliono","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/29496357","link":"/","description":"永远相信美好的事情即将发生","socials":{"github":"https://github.com/dandeliono","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"Mybatis自定义TypeHandler实现数据库Json数组转List T 对象","uid":"2e30e1dd404d8ce00027cb5e2a0055b3","slug":"JAVA/Mybatis自定义TypeHandler实现数据库Json数组转List T 对象","date":"2022-10-20T18:28:11.000Z","updated":"2025-09-30T03:26:13.443Z","comments":true,"path":"api/articles/JAVA/Mybatis自定义TypeHandler实现数据库Json数组转List T 对象.json","keywords":"XuGuangSheng","cover":"/covers/mybatistypehandlerjsonlist-t.jpg","text":"Mybatis自定义TypeHandler实现数据库Json数组转List对象实现功能在开发过程中经常会遇到将整个JSON数据当作一个字段存到数据库中的情况，但...","permalink":"/post/JAVA/Mybatis自定义TypeHandler实现数据库Json数组转List T 对象","photos":[],"count_time":{"symbolsCount":"2.9k","symbolsTime":"3 mins."},"categories":[{"name":"List","slug":"List","count":1,"path":"api/categories/List.json"},{"name":"JAVA","slug":"List/JAVA","count":1,"path":"api/categories/List/JAVA.json"}],"tags":[{"name":"https","slug":"https","count":44,"path":"api/tags/https.json"},{"name":"JSON","slug":"JSON","count":1,"path":"api/tags/JSON.json"},{"name":"TypeHandler","slug":"TypeHandler","count":1,"path":"api/tags/TypeHandler.json"}],"author":{"name":"dandeliono","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/29496357","link":"/","description":"永远相信美好的事情即将发生","socials":{"github":"https://github.com/dandeliono","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Spring Spring boot正确集成Quartz及解决Autowired失效问题","uid":"d8866dac3e3d178ff93b0801099e3728","slug":"JAVA/Spring Spring boot正确集成Quartz及解决@Autowired失效问题","date":"2022-10-07T14:04:24.000Z","updated":"2025-09-30T03:26:19.047Z","comments":true,"path":"api/articles/JAVA/Spring Spring boot正确集成Quartz及解决@Autowired失效问题.json","keywords":"XuGuangSheng","cover":"/covers/spring-spring-bootquartz-autowired.jpg","text":"Spring/Spring boot正确集成Quartz及解决@Autowired失效问题 - 从此寂静无声 - 博客园quartz(1) 项目依赖: 1234...","permalink":"/post/JAVA/Spring Spring boot正确集成Quartz及解决@Autowired失效问题","photos":[],"count_time":{"symbolsCount":"11k","symbolsTime":"10 mins."},"categories":[{"name":"Spring","slug":"Spring","count":4,"path":"api/categories/Spring.json"},{"name":"JAVA","slug":"Spring/JAVA","count":4,"path":"api/categories/Spring/JAVA.json"}],"tags":[{"name":"Quartz","slug":"Quartz","count":1,"path":"api/tags/Quartz.json"},{"name":"Job","slug":"Job","count":1,"path":"api/tags/Job.json"},{"name":"SpringBeanJobFactory","slug":"SpringBeanJobFactory","count":1,"path":"api/tags/SpringBeanJobFactory.json"}],"author":{"name":"dandeliono","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/29496357","link":"/","description":"永远相信美好的事情即将发生","socials":{"github":"https://github.com/dandeliono","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}